/* @preserve
 * Leaflet 1.3.1, a JS library for interactive maps. http://leafletjs.com
 * (c) 2010-2017 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.L={})}(this,function(Ee){"use strict";function eo(a){var t,r,s,l;for(r=1,s=arguments.length;r<s;r++)for(t in l=arguments[r],l)a[t]=l[t];return a}function to(o,t){var a=Array.prototype.slice;if(o.bind)return o.bind.apply(o,a.call(arguments,1));var e=a.call(arguments,2);return function(){return o.apply(t,e.length?e.concat(a.call(arguments)):arguments)}}function oo(e){return e._leaflet_id=e._leaflet_id||++Yt,e._leaflet_id}function e(a,t,i){var e,l,_,d;return d=function(){e=!1,l&&(_.apply(i,l),l=!1)},_=function(){e?l=arguments:(a.apply(i,arguments),setTimeout(d,t),e=!0)}}function o(a,t,i){var e=t[1],n=t[0],o=e-n;return a===e&&i?a:((a-n)%o+o)%o+n}function no(){return!1}function n(o,t){var n=Math.pow(10,void 0===t?6:t);return Math.round(o*n)/n}function a(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function h(e){return a(e).split(/\s+/)}function u(o,t){for(var n in o.hasOwnProperty("options")||(o.options=o.options?Kt(o.options):{}),t)o.options[n]=t[n];return o.options}function l(a,t,i){var e=[];for(var n in a)e.push(encodeURIComponent(i?n.toUpperCase():n)+"="+encodeURIComponent(a[n]));return(t&&-1!==t.indexOf("?")?"&":"?")+e.join("&")}function i(e,o){return e.replace(Xt,function(a,t){var e=o[t];if(void 0===e)throw new Error("No value provided for variable "+a);return"function"==typeof e&&(e=e(o)),e})}function t(o,t){for(var n=0;n<o.length;n++)if(o[n]===t)return n;return-1}function r(e){return window["webkit"+e]||window["moz"+e]||window["ms"+e]}function s(o){var t=+new Date,n=Math.max(0,16-(t-Jt));return Jt=t+n,window.setTimeout(o,n)}function d(e,t,o){return o&&$t===s?void e.call(t):$t.call(window,to(e,t))}function _(e){e&&ao.call(window,e)}function p(){}function m(e){if("undefined"!=typeof L&&L&&L.Mixin){e=Qt(e)?e:[e];for(var o=0;o<e.length;o++)e[o]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}function g(o,t,n){this.x=n?Math.round(o):o,this.y=n?Math.round(t):t}function y(o,t,n){return o instanceof g?o:Qt(o)?new g(o[0],o[1]):void 0===o||null===o?o:"object"==typeof o&&"x"in o&&"y"in o?new g(o.x,o.y):new g(o,t,n)}function f(a,t){if(a)for(var i=t?[a,t]:a,e=0,r=i.length;e<r;e++)this.extend(i[e])}function v(e,t){return!e||e instanceof f?e:new f(e,t)}function c(a,t){if(a)for(var i=t?[a,t]:a,e=0,r=i.length;e<r;e++)this.extend(i[e])}function x(e,t){return e instanceof c?e:new c(e,t)}function P(o,t,n){if(isNaN(o)||isNaN(t))throw new Error("Invalid LatLng object: ("+o+", "+t+")");this.lat=+o,this.lng=+t,void 0!==n&&(this.alt=+n)}function T(o,t,n){return o instanceof P?o:Qt(o)&&"object"!=typeof o[0]?3===o.length?new P(o[0],o[1],o[2]):2===o.length?new P(o[0],o[1]):null:void 0===o||null===o?o:"object"==typeof o&&"lat"in o?new P(o.lat,"lng"in o?o.lng:o.lon,o.alt):void 0===t?null:new P(o,t,n)}function b(o,t,a,e){return Qt(o)?(this._a=o[0],this._b=o[1],this._c=o[2],void(this._d=o[3])):void(this._a=o,this._b=t,this._c=a,this._d=e)}function z(o,t,a,e){return new b(o,t,a,e)}function w(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function C(l,t){var i,_,d,p,m,c,u="";for(i=0,d=l.length;i<d;i++){for(_=0,p=(m=l[i]).length;_<p;_++)c=m[_],u+=(_?"L":"M")+c.x+" "+c.y;u+=t?Go?"z":"x":""}return u||"M0 0"}function S(e){return 0<=navigator.userAgent.toLowerCase().indexOf(e)}function Z(o,t,a,e){return"touchstart"===t?E(o,a,e):"touchmove"===t?M(o,a,e):"touchend"==t&&R(o,a,e),this}function A(o,t,a){var e=o["_leaflet_"+t+a];return"touchstart"===t?o.removeEventListener(Yo,e,!1):"touchmove"===t?o.removeEventListener(Xo,e,!1):"touchend"==t&&(o.removeEventListener(te,e,!1),o.removeEventListener(ie,e,!1)),this}function E(e,a,t){var n=to(function(e){if("mouse"!==e.pointerType&&e.MSPOINTER_TYPE_MOUSE&&e.pointerType!==e.MSPOINTER_TYPE_MOUSE){if(!(0>ee.indexOf(e.target.tagName)))return;q(e)}O(e,a)});e["_leaflet_touchstart"+t]=n,e.addEventListener(Yo,n,!1),oe||(document.documentElement.addEventListener(Yo,k,!0),document.documentElement.addEventListener(Xo,B,!0),document.documentElement.addEventListener(te,I,!0),document.documentElement.addEventListener(ie,I,!0),oe=!0)}function k(e){ne[e.pointerId]=e,Qo++}function B(e){ne[e.pointerId]&&(ne[e.pointerId]=e)}function I(e){delete ne[e.pointerId],Qo--}function O(o,t){for(var n in o.touches=[],ne)o.touches.push(ne[n]);o.changedTouches=[o],t(o)}function M(o,a,t){var e=function(e){(e.pointerType!==e.MSPOINTER_TYPE_MOUSE&&"mouse"!==e.pointerType||0!==e.buttons)&&O(e,a)};o["_leaflet_touchmove"+t]=e,o.addEventListener(Xo,e,!1)}function R(o,a,t){var e=function(e){O(e,a)};o["_leaflet_touchend"+t]=e,o.addEventListener(te,e,!1),o.addEventListener(ie,e,!1)}function D(l,_,t){function e(a){var t;if(Wo){if(!Lo||"mouse"===a.pointerType)return;t=Qo}else t=a.touches.length;if(!(1<t)){var r=Date.now(),e=r-(i||r);d=a.touches?a.touches[0]:a,p=0<e&&e<=o,i=r}}function n(a){if(p&&!d.cancelBubble){if(Wo){if(!Lo||"mouse"===a.pointerType)return;var t,r,s={};for(r in d)t=d[r],s[r]=t&&t.bind?t.bind(d):t;d=s}d.type="dblclick",_(d),i=null}}var i,d,p=!1,o=250;return l[he+Jo+t]=e,l[he+ae+t]=n,l[he+"dblclick"+t]=_,l.addEventListener(Jo,e,!1),l.addEventListener(ae,n,!1),l.addEventListener("dblclick",_,!1),this}function N(a,t){var i=a[he+Jo+t],e=a[he+ae+t],n=a[he+"dblclick"+t];return a.removeEventListener(Jo,i,!1),a.removeEventListener(ae,e,!1),Lo||a.removeEventListener("dblclick",n,!1),this}function j(a,t,l,e){if("object"==typeof t)for(var n in t)H(a,n,t[n],l);else for(var o=0,_=(t=h(t)).length;o<_;o++)H(a,t[o],l,e);return this}function W(l,t,_,e){if("object"==typeof t)for(var n in t)U(l,n,t[n],_);else if(t)for(var o=0,d=(t=h(t)).length;o<d;o++)U(l,t[o],_,e);else{for(var r in l[ue])U(l,r,l[ue][r]);delete l[ue]}return this}function H(n,t,l,e){var o=t+oo(l)+(e?"_"+oo(e):"");if(n[ue]&&n[ue][o])return this;var i=function(t){return l.call(e||n,t||window.event)},s=i;Wo&&0===t.indexOf("touch")?Z(n,t,i,o):!Ho||"dblclick"!==t||!D||Wo&&So?"addEventListener"in n?"mousewheel"===t?n.addEventListener("onwheel"in n?"wheel":"mousewheel",i,!1):"mouseenter"===t||"mouseleave"===t?(i=function(e){e=e||window.event,$(n,e)&&s(e)},n.addEventListener("mouseenter"===t?"mouseover":"mouseout",i,!1)):("click"===t&&Ao&&(i=function(e){et(e,s)}),n.addEventListener(t,i,!1)):"attachEvent"in n&&n.attachEvent("on"+t,i):D(n,i,o),n[ue]=n[ue]||{},n[ue][o]=i}function U(n,t,a,e){var o=t+oo(a)+(e?"_"+oo(e):""),i=n[ue]&&n[ue][o];return i?void(Wo&&0===t.indexOf("touch")?A(n,t,o):!Ho||"dblclick"!==t||!N||Wo&&So?"removeEventListener"in n?"mousewheel"===t?n.removeEventListener("onwheel"in n?"wheel":"mousewheel",i,!1):n.removeEventListener("mouseenter"===t?"mouseover":"mouseleave"===t?"mouseout":t,i,!1):"detachEvent"in n&&n.detachEvent("on"+t,i):N(n,o),n[ue][o]=null):this}function F(e){return e.stopPropagation?e.stopPropagation():e.originalEvent?e.originalEvent._stopped=!0:e.cancelBubble=!0,J(e),this}function V(e){return H(e,"mousewheel",F),this}function G(e){return j(e,"mousedown touchstart dblclick",F),H(e,"click",Q),this}function q(e){return e.preventDefault?e.preventDefault():e.returnValue=!1,this}function K(e){return q(e),F(e),this}function Y(a,t){if(!t)return new g(a.clientX,a.clientY);var i=t.getBoundingClientRect(),e=i.width/t.offsetWidth||1,n=i.height/t.offsetHeight||1;return new g(a.clientX/e-i.left-t.clientLeft,a.clientY/n-i.top-t.clientTop)}function X(e){return Lo?e.wheelDeltaY/2:e.deltaY&&0===e.deltaMode?-e.deltaY/le:e.deltaY&&1===e.deltaMode?20*-e.deltaY:e.deltaY&&2===e.deltaMode?60*-e.deltaY:e.deltaX||e.deltaZ?0:e.wheelDelta?(e.wheelDeltaY||e.wheelDelta)/2:e.detail&&32765>Math.abs(e.detail)?20*-e.detail:e.detail?60*(e.detail/-32765):0}function Q(e){ce[e.type]=!0}function J(e){var t=ce[e.type];return ce[e.type]=!1,t}function $(o,t){var n=t.relatedTarget;if(!n)return!0;try{for(;n&&n!==o;)n=n.parentNode}catch(e){return!1}return n!==o}function et(o,t){var a=o.timeStamp||o.originalEvent&&o.originalEvent.timeStamp,e=co&&a-co;e&&100<e&&500>e||o.target._simulatedClick&&!o._simulated?K(o):(co=a,t(o))}function tt(e){return"string"==typeof e?document.getElementById(e):e}function ot(o,t){var a=o.style[t]||o.currentStyle&&o.currentStyle[t];if((!a||"auto"===a)&&document.defaultView){var i=document.defaultView.getComputedStyle(o,null);a=i?i[t]:null}return"auto"===a?null:a}function nt(o,t,a){var e=document.createElement(o);return e.className=t||"",a&&a.appendChild(e),e}function at(e){var t=e.parentNode;t&&t.removeChild(e)}function it(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function rt(e){var t=e.parentNode;t.lastChild!==e&&t.appendChild(e)}function st(e){var t=e.parentNode;t.firstChild!==e&&t.insertBefore(e,t.firstChild)}function lt(o,t){if(void 0!==o.classList)return o.classList.contains(t);var n=mt(o);return 0<n.length&&new RegExp("(^|\\s)"+t+"(\\s|$)").test(n)}function _t(a,t){if(void 0!==a.classList)for(var i=h(t),e=0,r=i.length;e<r;e++)a.classList.add(i[e]);else if(!lt(a,t)){var o=mt(a);pt(a,(o?o+" ":"")+t)}}function dt(e,t){void 0===e.classList?pt(e,a((" "+mt(e)+" ").replace(" "+t+" "," "))):e.classList.remove(t)}function pt(e,t){void 0===e.className.baseVal?e.className=t:e.className.baseVal=t}function mt(e){return void 0===e.className.baseVal?e.className:e.className.baseVal}function ct(e,t){"opacity"in e.style?e.style.opacity=t:"filter"in e.style&&ut(e,t)}function ut(o,n){var t=!1;try{t=o.filters.item("DXImageTransform.Microsoft.Alpha")}catch(e){if(1===n)return}n=Math.round(100*n),t?(t.Enabled=100!==n,t.Opacity=n):o.style.filter+=" progid:DXImageTransform.Microsoft.Alpha(opacity="+n+")"}function gt(o){for(var t=document.documentElement.style,n=0;n<o.length;n++)if(o[n]in t)return o[n];return!1}function yt(o,t,a){var e=t||new g(0,0);o.style[de]=(Oo?"translate("+e.x+"px,"+e.y+"px)":"translate3d("+e.x+"px,"+e.y+"px,0)")+(a?" scale("+a+")":"")}function ht(e,t){e._leaflet_pos=t,Do?yt(e,t):(e.style.left=t.x+"px",e.style.top=t.y+"px")}function ft(e){return e._leaflet_pos||new g(0,0)}function vt(){j(window,"dragstart",q)}function xt(){W(window,"dragstart",q)}function Pt(e){for(;-1===e.tabIndex;)e=e.parentNode;e.style&&(Lt(),ge=e,$o=e.style.outline,e.style.outline="none",j(window,"keydown",Lt))}function Lt(){ge&&(ge.style.outline=$o,ge=void 0,$o=void 0,W(window,"keydown",Lt))}function bt(o,n){if(!n||!o.length)return o.slice();var a=n*n;return o=Ct(o,a),o=zt(o,a)}function Tt(o,t,n){return Math.sqrt(kt(o,t,n,!0))}function zt(a,t){var i=a.length,e=new(typeof Uint8Array=="undefined"?Array:Uint8Array)(i);e[0]=e[i-1]=1,wt(a,e,t,0,i-1);var n,r=[];for(n=0;n<i;n++)e[n]&&r.push(a[n]);return r}function wt(l,t,i,e,n){var o,_,d,p=0;for(_=e+1;_<=n-1;_++)(d=kt(l[_],l[e],l[n],!0))>p&&(o=_,p=d);p>i&&(t[o]=1,wt(l,t,i,e,o),wt(l,t,i,o,n))}function Ct(a,t){for(var i=[a[0]],e=1,r=0,l=a.length;e<l;e++)Et(a[e],a[r])>t&&(i.push(a[e]),r=e);return r<l-1&&i.push(a[l-1]),i}function St(l,_,d,e,n){var o,p,m,c=e?Ze:At(l,d),g=At(_,d);for(Ze=g;;){if(!(c|g))return[l,_];if(c&g)return!1;m=At(p=Zt(l,_,o=c||g,d,n),d),o===c?(l=p,c=m):(_=p,g=m)}}function Zt(_,t,i,e,n){var o,d,p=t.x-_.x,a=t.y-_.y,m=e.min,c=e.max;return 8&i?(o=_.x+p*(c.y-_.y)/a,d=c.y):4&i?(o=_.x+p*(m.y-_.y)/a,d=m.y):2&i?(o=c.x,d=_.y+a*(c.x-_.x)/p):1&i&&(o=m.x,d=_.y+a*(m.x-_.x)/p),new g(o,d,n)}function At(o,t){var n=0;return o.x<t.min.x?n|=1:o.x>t.max.x&&(n|=2),o.y<t.min.y?n|=4:o.y>t.max.y&&(n|=8),n}function Et(o,t){var a=t.x-o.x,e=t.y-o.y;return a*a+e*e}function kt(l,t,i,e){var n,_=t.x,d=t.y,p=i.x-_,m=i.y-d,c=p*p+m*m;return 0<c&&(1<(n=((l.x-_)*p+(l.y-d)*m)/c)?(_=i.x,d=i.y):0<n&&(_+=p*n,d+=m*n)),p=l.x-_,m=l.y-d,e?p*p+m*m:new g(_,d)}function Bt(e){return!Qt(e[0])||"object"!=typeof e[0][0]&&void 0!==e[0][0]}function It(e){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Bt(e)}function Ot(d,p,i){var e,m,g,y,f,v,x,P,b,A=[1,4,2,8];for(m=0,x=d.length;m<x;m++)d[m]._code=At(d[m],p);for(y=0;4>y;y++){for(P=A[y],e=[],m=0,g=(x=d.length)-1;m<x;g=m++)f=d[m],v=d[g],f._code&P?v._code&P||((b=Zt(v,f,P,p,i))._code=At(b,p),e.push(b)):(v._code&P&&((b=Zt(v,f,P,p,i))._code=At(b,p),e.push(b)),e.push(f));d=e}return d}function Mt(_,t){var i,d,p,m,g="Feature"===_.type?_.geometry:_,r=g?g.coordinates:null,a=[],y=t&&t.pointToLayer,u=t&&t.coordsToLatLng||Rt;if(!r&&!g)return null;switch(g.type){case"Point":return i=u(r),y?y(_,i):new Ye(i);case"MultiPoint":for(p=0,m=r.length;p<m;p++)i=u(r[p]),a.push(y?y(_,i):new Ye(i));return new Ve(a);case"LineString":case"MultiLineString":return d=Dt(r,"LineString"===g.type?0:1,u),new Qe(d,t);case"Polygon":case"MultiPolygon":return d=Dt(r,"Polygon"===g.type?1:2,u),new tn(d,t);case"GeometryCollection":for(p=0,m=g.geometries.length;p<m;p++){var l=Mt({geometry:g.geometries[p],type:"Feature",properties:_.properties},t);l&&a.push(l)}return new Ve(a);default:throw new Error("Invalid GeoJSON object.");}}function Rt(e){return new P(e[1],e[0],e[2])}function Dt(a,t,i){for(var e,l=[],o=0,_=a.length;o<_;o++)e=t?Dt(a[o],t-1,i):(i||Rt)(a[o]),l.push(e);return l}function Nt(e,t){return t="number"==typeof t?t:6,void 0===e.alt?[n(e.lng,t),n(e.lat,t)]:[n(e.lng,t),n(e.lat,t),n(e.alt,t)]}function jt(a,t,i,e){for(var n=[],o=0,l=a.length;o<l;o++)n.push(t?jt(a[o],t-1,i,e):Nt(a[o],e));return!t&&i&&n.push(n[0]),n}function Wt(o,t){return o.feature?eo({},o.feature,{geometry:t}):Ht(t)}function Ht(e){return"Feature"===e.type||"FeatureCollection"===e.type?e:{type:"Feature",properties:{},geometry:e}}function Ut(e,t){return new en(e,t)}function Ft(e,t){return new _n(e,t)}function Vt(e){return Vo?new mn(e):null}function Gt(e){return Go||qo?new yn(e):null}var qt=Object.freeze;Object.freeze=function(e){return e};var Kt=Object.create||function(){function e(){}return function(t){return e.prototype=t,new e}}(),Yt=0,Xt=/\{ *([\w_-]+) *\}/g,Qt=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},Jt=0,$t=window.requestAnimationFrame||r("RequestAnimationFrame")||s,ao=window.cancelAnimationFrame||r("CancelAnimationFrame")||r("CancelRequestAnimationFrame")||function(e){window.clearTimeout(e)},io=(Object.freeze||Object)({freeze:qt,extend:eo,create:Kt,bind:to,lastId:Yt,stamp:oo,throttle:e,wrapNum:o,falseFn:no,formatNum:n,trim:a,splitWords:h,setOptions:u,getParamString:l,template:i,isArray:Qt,indexOf:t,emptyImageUrl:"data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=",requestFn:$t,cancelFn:ao,requestAnimFrame:d,cancelAnimFrame:_});p.extend=function(a){var t=function(){this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},e=t.__super__=this.prototype,n=Kt(e);for(var o in n.constructor=t,t.prototype=n,this)this.hasOwnProperty(o)&&"prototype"!==o&&"__super__"!==o&&(t[o]=this[o]);return a.statics&&(eo(t,a.statics),delete a.statics),a.includes&&(m(a.includes),eo.apply(null,[n].concat(a.includes)),delete a.includes),n.options&&(a.options=eo(Kt(n.options),a.options)),eo(n,a),n._initHooks=[],n.callInitHooks=function(){if(!this._initHooksCalled){e.callInitHooks&&e.callInitHooks.call(this),this._initHooksCalled=!0;for(var o=0,a=n._initHooks.length;o<a;o++)n._initHooks[o].call(this)}},t},p.include=function(e){return eo(this.prototype,e),this},p.mergeOptions=function(e){return eo(this.prototype.options,e),this},p.addInitHook=function(o){var t=Array.prototype.slice.call(arguments,1),n="function"==typeof o?o:function(){this[o].apply(this,t)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(n),this};var ro={on:function(a,r,i){if("object"==typeof a)for(var e in a)this._on(e,a[e],r);else for(var n=0,l=(a=h(a)).length;n<l;n++)this._on(a[n],r,i);return this},off:function(a,r,i){if(!a)delete this._events;else if("object"==typeof a)for(var e in a)this._off(e,a[e],r);else for(var n=0,l=(a=h(a)).length;n<l;n++)this._off(a[n],r,i);return this},_on:function(l,t,i){this._events=this._events||{};var _=this._events[l];_||(_=[],this._events[l]=_),i===this&&(i=void 0);for(var d={fn:t,ctx:i},o=_,s=0,p=o.length;s<p;s++)if(o[s].fn===t&&o[s].ctx===i)return;o.push(d)},_off:function(r,t,i){var l,_,d;if(this._events&&(l=this._events[r]))if(!t){for(_=0,d=l.length;_<d;_++)l[_].fn=no;delete this._events[r]}else if(i===this&&(i=void 0),l)for(_=0,d=l.length;_<d;_++){var p=l[_];if(p.ctx===i&&p.fn===t)return p.fn=no,this._firingCount&&(this._events[r]=l=l.slice()),void l.splice(_,1)}},fire:function(i,t,e){if(!this.listens(i,e))return this;var n=eo({},t,{type:i,target:this,sourceTarget:t&&t.sourceTarget||this});if(this._events){var o=this._events[i];if(o){this._firingCount=this._firingCount+1||1;for(var s,l=0,_=o.length;l<_;l++)s=o[l],s.fn.call(s.ctx||this,n);this._firingCount--}}return e&&this._propagateEvent(n),this},listens:function(o,t){var a=this._events&&this._events[o];if(a&&a.length)return!0;if(t)for(var e in this._eventParents)if(this._eventParents[e].listens(o,t))return!0;return!1},once:function(e,t,a){if("object"==typeof e){for(var n in e)this.once(n,e[n],t);return this}var o=to(function(){this.off(e,t,a).off(e,o,a)},this);return this.on(e,t,a).on(e,o,a)},addEventParent:function(e){return this._eventParents=this._eventParents||{},this._eventParents[oo(e)]=e,this},removeEventParent:function(e){return this._eventParents&&delete this._eventParents[oo(e)],this},_propagateEvent:function(o){for(var t in this._eventParents)this._eventParents[t].fire(o.type,eo({layer:o.target,propagatedFrom:o.target},o),!0)}};ro.addEventListener=ro.on,ro.removeEventListener=ro.clearAllEventListeners=ro.off,ro.addOneTimeEventListener=ro.once,ro.fireEvent=ro.fire,ro.hasEventListeners=ro.listens;var so=p.extend(ro),lo=Math.trunc||function(e){return 0<e?Math.floor(e):Math.ceil(e)};g.prototype={clone:function(){return new g(this.x,this.y)},add:function(e){return this.clone()._add(y(e))},_add:function(e){return this.x+=e.x,this.y+=e.y,this},subtract:function(e){return this.clone()._subtract(y(e))},_subtract:function(e){return this.x-=e.x,this.y-=e.y,this},divideBy:function(e){return this.clone()._divideBy(e)},_divideBy:function(e){return this.x/=e,this.y/=e,this},multiplyBy:function(e){return this.clone()._multiplyBy(e)},_multiplyBy:function(e){return this.x*=e,this.y*=e,this},scaleBy:function(e){return new g(this.x*e.x,this.y*e.y)},unscaleBy:function(e){return new g(this.x/e.x,this.y/e.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=lo(this.x),this.y=lo(this.y),this},distanceTo:function(o){var n=(o=y(o)).x-this.x,a=o.y-this.y;return Math.sqrt(n*n+a*a)},equals:function(e){return(e=y(e)).x===this.x&&e.y===this.y},contains:function(e){return e=y(e),Math.abs(e.x)<=Math.abs(this.x)&&Math.abs(e.y)<=Math.abs(this.y)},toString:function(){return"Point("+n(this.x)+", "+n(this.y)+")"}},f.prototype={extend:function(e){return e=y(e),this.min||this.max?(this.min.x=Math.min(e.x,this.min.x),this.max.x=Math.max(e.x,this.max.x),this.min.y=Math.min(e.y,this.min.y),this.max.y=Math.max(e.y,this.max.y)):(this.min=e.clone(),this.max=e.clone()),this},getCenter:function(e){return new g((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,e)},getBottomLeft:function(){return new g(this.min.x,this.max.y)},getTopRight:function(){return new g(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(o){var n,a;return(o="number"==typeof o[0]||o instanceof g?y(o):v(o))instanceof f?(n=o.min,a=o.max):n=a=o,n.x>=this.min.x&&a.x<=this.max.x&&n.y>=this.min.y&&a.y<=this.max.y},intersects:function(a){a=v(a);var l=this.min,i=this.max,e=a.min,n=a.max,o=n.x>=l.x&&e.x<=i.x,s=n.y>=l.y&&e.y<=i.y;return o&&s},overlaps:function(a){a=v(a);var l=this.min,i=this.max,e=a.min,n=a.max,o=n.x>l.x&&e.x<i.x,s=n.y>l.y&&e.y<i.y;return o&&s},isValid:function(){return this.min&&this.max}},c.prototype={extend:function(a){var t,r,s=this._southWest,n=this._northEast;if(a instanceof P)t=a,r=a;else{if(!(a instanceof c))return a?this.extend(T(a)||x(a)):this;if(t=a._southWest,r=a._northEast,!t||!r)return this}return s||n?(s.lat=Math.min(t.lat,s.lat),s.lng=Math.min(t.lng,s.lng),n.lat=Math.max(r.lat,n.lat),n.lng=Math.max(r.lng,n.lng)):(this._southWest=new P(t.lat,t.lng),this._northEast=new P(r.lat,r.lng)),this},pad:function(a){var t=this._southWest,i=this._northEast,e=Math.abs(t.lat-i.lat)*a,n=Math.abs(t.lng-i.lng)*a;return new c(new P(t.lat-e,t.lng-n),new P(i.lat+e,i.lng+n))},getCenter:function(){return new P((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new P(this.getNorth(),this.getWest())},getSouthEast:function(){return new P(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(a){a="number"==typeof a[0]||a instanceof P||"lat"in a?T(a):x(a);var r,s,l=this._southWest,n=this._northEast;return a instanceof c?(r=a.getSouthWest(),s=a.getNorthEast()):r=s=a,r.lat>=l.lat&&s.lat<=n.lat&&r.lng>=l.lng&&s.lng<=n.lng},intersects:function(a){a=x(a);var l=this._southWest,i=this._northEast,e=a.getSouthWest(),n=a.getNorthEast(),o=n.lat>=l.lat&&e.lat<=i.lat,s=n.lng>=l.lng&&e.lng<=i.lng;return o&&s},overlaps:function(a){a=x(a);var l=this._southWest,i=this._northEast,e=a.getSouthWest(),n=a.getNorthEast(),o=n.lat>l.lat&&e.lat<i.lat,s=n.lng>l.lng&&e.lng<i.lng;return o&&s},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(e,o){return!!e&&(e=x(e),this._southWest.equals(e.getSouthWest(),o)&&this._northEast.equals(e.getNorthEast(),o))},isValid:function(){return this._southWest&&this._northEast}},P.prototype={equals:function(e,o){return!!e&&(e=T(e),Math.max(Math.abs(this.lat-e.lat),Math.abs(this.lng-e.lng))<=(void 0===o?1e-9:o))},toString:function(e){return"LatLng("+n(this.lat,e)+", "+n(this.lng,e)+")"},distanceTo:function(e){return po.distance(this,T(e))},wrap:function(){return po.wrapLatLng(this)},toBounds:function(o){var t=180*o/40075017,n=t/Math.cos(Math.PI/180*this.lat);return x([this.lat-t,this.lng-n],[this.lat+t,this.lng+n])},clone:function(){return new P(this.lat,this.lng,this.alt)}};var _o={latLngToPoint:function(o,t){var a=this.projection.project(o),e=this.scale(t);return this.transformation._transform(a,e)},pointToLatLng:function(o,t){var a=this.scale(t),e=this.transformation.untransform(o,a);return this.projection.unproject(e)},project:function(e){return this.projection.project(e)},unproject:function(e){return this.projection.unproject(e)},scale:function(e){return 256*Math.pow(2,e)},zoom:function(e){return Math.log(e/256)/Math.LN2},getProjectedBounds:function(o){if(this.infinite)return null;var t=this.projection.bounds,n=this.scale(o);return new f(this.transformation.transform(t.min,n),this.transformation.transform(t.max,n))},infinite:!1,wrapLatLng:function(e){var t=this.wrapLng?o(e.lng,this.wrapLng,!0):e.lng;return new P(this.wrapLat?o(e.lat,this.wrapLat,!0):e.lat,t,e.alt)},wrapLatLngBounds:function(a){var t=a.getCenter(),i=this.wrapLatLng(t),e=t.lat-i.lat,n=t.lng-i.lng;if(0==e&&0===n)return a;var o=a.getSouthWest(),s=a.getNorthEast();return new c(new P(o.lat-e,o.lng-n),new P(s.lat-e,s.lng-n))}},po=eo({},_o,{wrapLng:[-180,180],R:6371e3,distance:function(l,t){var i=Math.PI/180,e=l.lat*i,n=t.lat*i,o=Math.sin((t.lat-l.lat)*i/2),s=Math.sin((t.lng-l.lng)*i/2),r=o*o+Math.cos(e)*Math.cos(n)*s*s,a=2*Math.atan2(Math.sqrt(r),Math.sqrt(1-r));return this.R*a}}),mo={R:6378137,MAX_LATITUDE:85.0511287798,project:function(a){var t=Math.PI/180,i=this.MAX_LATITUDE,e=Math.max(Math.min(i,a.lat),-i),n=Math.sin(e*t);return new g(this.R*a.lng*t,this.R*Math.log((1+n)/(1-n))/2)},unproject:function(e){var t=180/Math.PI;return new P((2*Math.atan(Math.exp(e.y/this.R))-Math.PI/2)*t,e.x*t/this.R)},bounds:function(){var e=6378137*Math.PI;return new f([-e,-e],[e,e])}()};b.prototype={transform:function(e,t){return this._transform(e.clone(),t)},_transform:function(e,t){return t=t||1,e.x=t*(this._a*e.x+this._b),e.y=t*(this._c*e.y+this._d),e},untransform:function(e,t){return t=t||1,new g((e.x/t-this._b)/this._a,(e.y/t-this._d)/this._c)}};var co,uo,go,yo,ho=eo({},po,{code:"EPSG:3857",projection:mo,transformation:function(){var e=.5/(Math.PI*mo.R);return z(e,.5,-e,.5)}()}),fo=eo({},ho,{code:"EPSG:900913"}),vo=document.documentElement.style,xo=("ActiveXObject"in window),Po=xo&&!document.addEventListener,Lo="msLaunchUri"in navigator&&!("documentMode"in document),bo=S("webkit"),Ao=S("android"),To=S("android 2")||S("android 3"),zo=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),wo=Ao&&S("Google")&&537>zo&&!("AudioNode"in window),Co=!!window.opera,So=S("chrome"),Zo=S("gecko")&&!bo&&!Co&&!xo,Eo=!So&&S("safari"),ko=S("phantom"),Bo=("OTransition"in vo),Io=0===navigator.platform.indexOf("Win"),Oo=xo&&"transition"in vo,Mo="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!To,Ro=("MozPerspective"in vo),Do=!window.L_DISABLE_3D&&(Oo||Mo||Ro)&&!Bo&&!ko,No="undefined"!=typeof orientation||S("mobile"),jo=!window.PointerEvent&&window.MSPointerEvent,Wo=window.PointerEvent||jo,Ho=!window.L_NO_TOUCH&&(Wo||"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),Uo=No&&Co,Fo=1<(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI),Vo=!!document.createElement("canvas").getContext,Go=document.createElementNS&&w("svg").createSVGRect,qo=!Go&&function(){try{var e=document.createElement("div");e.innerHTML="<v:shape adj=\"1\"/>";var t=e.firstChild;return t.style.behavior="url(#default#VML)",t&&"object"==typeof t.adj}catch(e){return!1}}(),Ko=(Object.freeze||Object)({ie:xo,ielt9:Po,edge:Lo,webkit:bo,android:Ao,android23:To,androidStock:wo,opera:Co,chrome:So,gecko:Zo,safari:Eo,phantom:ko,opera12:Bo,win:Io,ie3d:Oo,webkit3d:Mo,gecko3d:Ro,any3d:Do,mobile:No,mobileWebkit:No&&bo,mobileWebkit3d:No&&Mo,msPointer:jo,pointer:Wo,touch:Ho,mobileOpera:Uo,mobileGecko:No&&Zo,retina:Fo,canvas:Vo,svg:Go,vml:qo}),Yo=jo?"MSPointerDown":"pointerdown",Xo=jo?"MSPointerMove":"pointermove",te=jo?"MSPointerUp":"pointerup",ie=jo?"MSPointerCancel":"pointercancel",ee=["INPUT","SELECT","OPTION"],ne={},oe=!1,Qo=0,Jo=jo?"MSPointerDown":Wo?"pointerdown":"touchstart",ae=jo?"MSPointerUp":Wo?"pointerup":"touchend",he="_leaflet_",ue="_leaflet_events",le=Io&&So?2*window.devicePixelRatio:Zo?window.devicePixelRatio:1,ce={},_e=(Object.freeze||Object)({on:j,off:W,stopPropagation:F,disableScrollPropagation:V,disableClickPropagation:G,preventDefault:q,stop:K,getMousePosition:Y,getWheelDelta:X,fakeStop:Q,skipped:J,isExternalTarget:$,addListener:j,removeListener:W}),de=gt(["transform","WebkitTransform","OTransform","MozTransform","msTransform"]),pe=gt(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),me="webkitTransition"===pe||"OTransition"===pe?pe+"End":"transitionend";if("onselectstart"in document)uo=function(){j(window,"selectstart",q)},go=function(){W(window,"selectstart",q)};else{var fe=gt(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);uo=function(){if(fe){var e=document.documentElement.style;yo=e[fe],e[fe]="none"}},go=function(){fe&&(document.documentElement.style[fe]=yo,yo=void 0)}}var ge,$o,sn=(Object.freeze||Object)({TRANSFORM:de,TRANSITION:pe,TRANSITION_END:me,get:tt,getStyle:ot,create:nt,remove:at,empty:it,toFront:rt,toBack:st,hasClass:lt,addClass:_t,removeClass:dt,setClass:pt,getClass:mt,setOpacity:ct,testProp:gt,setTransform:yt,setPosition:ht,getPosition:ft,disableTextSelection:uo,enableTextSelection:go,disableImageDrag:vt,enableImageDrag:xt,preventOutline:Pt,restoreOutline:Lt}),xe=so.extend({run:function(o,t,a,e){this.stop(),this._el=o,this._inProgress=!0,this._duration=a||.25,this._easeOutPower=1/Math.max(e||.5,.2),this._startPos=ft(o),this._offset=t.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=d(this._animate,this),this._step()},_step:function(o){var t=+new Date-this._startTime,n=1e3*this._duration;t<n?this._runFrame(this._easeOut(t/n),o):(this._runFrame(1),this._complete())},_runFrame:function(o,t){var n=this._startPos.add(this._offset.multiplyBy(o));t&&n._round(),ht(this._el,n),this.fire("step")},_complete:function(){_(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(e){return 1-Math.pow(1-e,this._easeOutPower)}}),we=so.extend({options:{crs:ho,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(e,t){t=u(this,t),this._initContainer(e),this._initLayout(),this._onResize=to(this._onResize,this),this._initEvents(),t.maxBounds&&this.setMaxBounds(t.maxBounds),void 0!==t.zoom&&(this._zoom=this._limitZoom(t.zoom)),t.center&&void 0!==t.zoom&&this.setView(T(t.center),t.zoom,{reset:!0}),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this.callInitHooks(),this._zoomAnimated=pe&&Do&&!Uo&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),j(this._proxy,me,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(o,a,i){return a=void 0===a?this._zoom:this._limitZoom(a),o=this._limitCenter(T(o),a,this.options.maxBounds),i=i||{},this._stop(),this._loaded&&!i.reset&&!0!==i&&(void 0!==i.animate&&(i.zoom=eo({animate:i.animate},i.zoom),i.pan=eo({animate:i.animate,duration:i.duration},i.pan)),this._zoom===a?this._tryAnimatedPan(o,i.pan):this._tryAnimatedZoom&&this._tryAnimatedZoom(o,a,i.zoom))?(clearTimeout(this._sizeTimer),this):(this._resetView(o,a),this)},setZoom:function(e,t){return this._loaded?this.setView(this.getCenter(),e,{zoom:t}):(this._zoom=e,this)},zoomIn:function(e,o){return e=e||(Do?this.options.zoomDelta:1),this.setZoom(this._zoom+e,o)},zoomOut:function(e,o){return e=e||(Do?this.options.zoomDelta:1),this.setZoom(this._zoom-e,o)},setZoomAround:function(a,t,i){var e=this.getZoomScale(t),n=this.getSize().divideBy(2),o=(a instanceof g?a:this.latLngToContainerPoint(a)).subtract(n).multiplyBy(1-1/e),s=this.containerPointToLatLng(n.add(o));return this.setView(s,t,{zoom:i})},_getBoundsCenterZoom:function(l,_){_=_||{},l=l.getBounds?l.getBounds():x(l);var d=y(_.paddingTopLeft||_.padding||[0,0]),e=y(_.paddingBottomRight||_.padding||[0,0]),n=this.getBoundsZoom(l,!1,d.add(e));if((n="number"==typeof _.maxZoom?Math.min(_.maxZoom,n):n)===1/0)return{center:l.getCenter(),zoom:n};var p=e.subtract(d).divideBy(2),s=this.project(l.getSouthWest(),n),r=this.project(l.getNorthEast(),n);return{center:this.unproject(s.add(r).divideBy(2).add(p),n),zoom:n}},fitBounds:function(o,n){if(!(o=x(o)).isValid())throw new Error("Bounds are not valid.");var a=this._getBoundsCenterZoom(o,n);return this.setView(a.center,a.zoom,n)},fitWorld:function(e){return this.fitBounds([[-90,-180],[90,180]],e)},panTo:function(e,t){return this.setView(e,this._zoom,{pan:t})},panBy:function(o,n){if(o=y(o).round(),n=n||{},!o.x&&!o.y)return this.fire("moveend");if(!0!==n.animate&&!this.getSize().contains(o))return this._resetView(this.unproject(this.project(this.getCenter()).add(o)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new xe,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),n.noMoveStart||this.fire("movestart"),!1!==n.animate){_t(this._mapPane,"leaflet-pan-anim");var a=this._getMapPanePos().subtract(o).round();this._panAnim.run(this._mapPane,a,n.duration||.25,n.easeLinearity)}else this._rawPanBy(o),this.fire("move").fire("moveend");return this},flyTo:function(f,A,z){function C(o){var t=(m*m-p*p+(o?-1:1)*y*y*g*g)/(2*(o?m:p)*y*g),n=Math.sqrt(t*t+1)-t;return 1e-9>n?-18:Math.log(n)}function n(e){return(Math.exp(e)-Math.exp(-e))/2}function o(e){return(Math.exp(e)+Math.exp(-e))/2}function s(e){return n(e)/o(e)}function r(e){return p*(o(x)/o(x+v*e))}function a(e){return p*(o(x)*s(x+v*e)-n(x))/y}function h(e){return 1-Math.pow(1-e,1.5)}function u(){var t=(Date.now()-w)/P,e=h(t)*Z;1>=t?(this._flyToFrame=d(u,this),this._move(this.unproject(l.add(c.subtract(l).multiplyBy(a(e)/g)),S),this.getScaleZoom(p/r(e),S),{flyTo:!0})):this._move(f,A)._moveEnd(!0)}if(!1===(z=z||{}).animate||!Do)return this.setView(f,A,z);this._stop();var l=this.project(this.getCenter()),c=this.project(f),_=this.getSize(),S=this._zoom;f=T(f),A=void 0===A?S:A;var p=Math.max(_.x,_.y),m=p*this.getZoomScale(S,A),g=c.distanceTo(l)||1,v=1.42,y=v*v,x=C(0),w=Date.now(),Z=(C(1)-x)/v,P=z.duration?1e3*z.duration:.8*(1e3*Z);return this._moveStart(!0,z.noMoveStart),u.call(this),this},flyToBounds:function(o,t){var n=this._getBoundsCenterZoom(o,t);return this.flyTo(n.center,n.zoom,t)},setMaxBounds:function(e){return(e=x(e)).isValid()?(this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this.options.maxBounds=e,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this.off("moveend",this._panInsideMaxBounds))},setMinZoom:function(e){var t=this.options.minZoom;return this.options.minZoom=e,this._loaded&&t!==e&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(e):this},setMaxZoom:function(e){var t=this.options.maxZoom;return this.options.maxZoom=e,this._loaded&&t!==e&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(e):this},panInsideBounds:function(o,t){this._enforcingBounds=!0;var a=this.getCenter(),e=this._limitCenter(a,this._zoom,x(o));return a.equals(e)||this.panTo(e,t),this._enforcingBounds=!1,this},invalidateSize:function(e){if(!this._loaded)return this;e=eo({animate:!1,pan:!0},!0===e?{animate:!0}:e);var i=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var n=this.getSize(),o=i.divideBy(2).round(),s=n.divideBy(2).round(),r=o.subtract(s);return r.x||r.y?(e.animate&&e.pan?this.panBy(r):(e.pan&&this._rawPanBy(r),this.fire("move"),e.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(to(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:i,newSize:n})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(e){if(e=this._locateOptions=eo({timeout:1e4,watch:!1},e),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var a=to(this._handleGeolocationResponse,this),n=to(this._handleGeolocationError,this);return e.watch?this._locationWatchId=navigator.geolocation.watchPosition(a,n,e):navigator.geolocation.getCurrentPosition(a,n,e),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(o){var t=o.code,n=o.message||(1===t?"permission denied":2===t?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:t,message:"Geolocation error: "+n+"."})},_handleGeolocationResponse:function(a){var t=new P(a.coords.latitude,a.coords.longitude),i=t.toBounds(a.coords.accuracy),e=this._locateOptions;if(e.setView){var n=this.getBoundsZoom(i);this.setView(t,e.maxZoom?Math.min(n,e.maxZoom):n)}var o={latlng:t,bounds:i,timestamp:a.timestamp};for(var s in a.coords)"number"==typeof a.coords[s]&&(o[s]=a.coords[s]);this.fire("locationfound",o)},addHandler:function(o,t){if(!t)return this;var n=this[o]=new t(this);return this._handlers.push(n),this.options[o]&&n.enable(),this},remove:function(){if(this._initEvents(!0),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch(e){this._container._leaflet_id=void 0,this._containerId=void 0}void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),at(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._clearHandlers(),this._loaded&&this.fire("unload");for(var e in this._layers)this._layers[e].remove();for(e in this._panes)at(this._panes[e]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(o,t){var n=nt("div","leaflet-pane"+(o?" leaflet-"+o.replace("Pane","")+"-pane":""),t||this._mapPane);return o&&(this._panes[o]=n),n},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var e=this.getPixelBounds();return new c(this.unproject(e.getBottomLeft()),this.unproject(e.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(p,m,i){p=x(p),i=y(i||[0,0]);var g=this.getZoom()||0,f=this.getMinZoom(),o=this.getMaxZoom(),s=p.getNorthWest(),r=p.getSouthEast(),a=this.getSize().subtract(i),h=v(this.project(r,g),this.project(s,g)).getSize(),u=Do?this.options.zoomSnap:1,l=a.x/h.x,c=a.y/h.y,_=m?Math.max(l,c):Math.min(l,c);return g=this.getScaleZoom(_,g),u&&(g=Math.round(g/(u/100))*(u/100),g=m?Math.ceil(g/u)*u:Math.floor(g/u)*u),Math.max(f,Math.min(o,g))},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new g(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(o,t){var n=this._getTopLeftPoint(o,t);return new f(n,n.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(e){return this.options.crs.getProjectedBounds(void 0===e?this.getZoom():e)},getPane:function(e){return"string"==typeof e?this._panes[e]:e},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(o,t){var n=this.options.crs;return t=void 0===t?this._zoom:t,n.scale(o)/n.scale(t)},getScaleZoom:function(o,t){var a=this.options.crs;t=void 0===t?this._zoom:t;var e=a.zoom(o*a.scale(t));return isNaN(e)?1/0:e},project:function(e,t){return t=void 0===t?this._zoom:t,this.options.crs.latLngToPoint(T(e),t)},unproject:function(e,t){return t=void 0===t?this._zoom:t,this.options.crs.pointToLatLng(y(e),t)},layerPointToLatLng:function(e){var t=y(e).add(this.getPixelOrigin());return this.unproject(t)},latLngToLayerPoint:function(e){return this.project(T(e))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(e){return this.options.crs.wrapLatLng(T(e))},wrapLatLngBounds:function(e){return this.options.crs.wrapLatLngBounds(x(e))},distance:function(e,t){return this.options.crs.distance(T(e),T(t))},containerPointToLayerPoint:function(e){return y(e).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(e){return y(e).add(this._getMapPanePos())},containerPointToLatLng:function(e){var t=this.containerPointToLayerPoint(y(e));return this.layerPointToLatLng(t)},latLngToContainerPoint:function(e){return this.layerPointToContainerPoint(this.latLngToLayerPoint(T(e)))},mouseEventToContainerPoint:function(e){return Y(e,this._container)},mouseEventToLayerPoint:function(e){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(e))},mouseEventToLatLng:function(e){return this.layerPointToLatLng(this.mouseEventToLayerPoint(e))},_initContainer:function(e){var t=this._container=tt(e);if(!t)throw new Error("Map container not found.");if(t._leaflet_id)throw new Error("Map container is already initialized.");j(t,"scroll",this._onScroll,this),this._containerId=oo(t)},_initLayout:function(){var e=this._container;this._fadeAnimated=this.options.fadeAnimation&&Do,_t(e,"leaflet-container"+(Ho?" leaflet-touch":"")+(Fo?" leaflet-retina":"")+(Po?" leaflet-oldie":"")+(Eo?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var t=ot(e,"position");"absolute"!==t&&"relative"!==t&&"fixed"!==t&&(e.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var e=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),ht(this._mapPane,new g(0,0)),this.createPane("tilePane"),this.createPane("shadowPane"),this.createPane("overlayPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(_t(e.markerPane,"leaflet-zoom-hide"),_t(e.shadowPane,"leaflet-zoom-hide"))},_resetView:function(o,t){ht(this._mapPane,new g(0,0));var a=!this._loaded;this._loaded=!0,t=this._limitZoom(t),this.fire("viewprereset");var e=this._zoom!==t;this._moveStart(e,!1)._move(o,t)._moveEnd(e),this.fire("viewreset"),a&&this.fire("load")},_moveStart:function(e,t){return e&&this.fire("zoomstart"),t||this.fire("movestart"),this},_move:function(o,t,a){void 0===t&&(t=this._zoom);var e=this._zoom!==t;return this._zoom=t,this._lastCenter=o,this._pixelOrigin=this._getNewPixelOrigin(o),(e||a&&a.pinch)&&this.fire("zoom",a),this.fire("move",a)},_moveEnd:function(e){return e&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return _(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(e){ht(this._mapPane,this._getMapPanePos().subtract(e))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(e){this._targets={},this._targets[oo(this._container)]=this;var t=e?W:j;t(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress",this._handleDOMEvent,this),this.options.trackResize&&t(window,"resize",this._onResize,this),Do&&this.options.transform3DLimit&&(e?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){_(this._resizeRequest),this._resizeRequest=d(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var e=this._getMapPanePos();Math.max(Math.abs(e.x),Math.abs(e.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(n,t){for(var i,l=[],_="mouseout"===t||"mouseover"===t,s=n.target||n.srcElement,d=!1;s;){if((i=this._targets[oo(s)])&&("click"===t||"preclick"===t)&&!n._simulated&&this._draggableMoved(i)){d=!0;break}if(i&&i.listens(t,!0)){if(_&&!$(s,n))break;if(l.push(i),_)break}if(s===this._container)break;s=s.parentNode}return l.length||d||_||!$(s,n)||(l=[this]),l},_handleDOMEvent:function(e){if(this._loaded&&!J(e)){var t=e.type;"mousedown"!==t&&"keypress"!==t||Pt(e.target||e.srcElement),this._fireDOMEvent(e,t)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(i,l,e){if("click"===i.type){var _=eo({},i);_.type="preclick",this._fireDOMEvent(_,_.type,e)}if(!i._stopped&&(e=(e||[]).concat(this._findEventTargets(i,l))).length){var o=e[0];"contextmenu"===l&&o.listens(l,!0)&&q(i);var s={originalEvent:i};if("keypress"!==i.type){var r=o.getLatLng&&(!o._radius||10>=o._radius);s.containerPoint=r?this.latLngToContainerPoint(o.getLatLng()):this.mouseEventToContainerPoint(i),s.layerPoint=this.containerPointToLayerPoint(s.containerPoint),s.latlng=r?o.getLatLng():this.layerPointToLatLng(s.layerPoint)}for(var a=0;a<e.length;a++)if(e[a].fire(l,s,!0),s.originalEvent._stopped||!1===e[a].options.bubblingMouseEvents&&-1!==t(this._mouseEvents,l))return}},_draggableMoved:function(e){return(e=e.dragging&&e.dragging.enabled()?e:this).dragging&&e.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var e=0,o=this._handlers.length;e<o;e++)this._handlers[e].disable()},whenReady:function(e,t){return this._loaded?e.call(t||this,{target:this}):this.on("load",e,t),this},_getMapPanePos:function(){return ft(this._mapPane)||new g(0,0)},_moved:function(){var e=this._getMapPanePos();return e&&!e.equals([0,0])},_getTopLeftPoint:function(e,t){return(e&&void 0!==t?this._getNewPixelOrigin(e,t):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(o,t){var n=this.getSize()._divideBy(2);return this.project(o,t)._subtract(n)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(o,t,a){var e=this._getNewPixelOrigin(a,t);return this.project(o,t)._subtract(e)},_latLngBoundsToNewLayerBounds:function(o,t,a){var e=this._getNewPixelOrigin(a,t);return v([this.project(o.getSouthWest(),t)._subtract(e),this.project(o.getNorthWest(),t)._subtract(e),this.project(o.getSouthEast(),t)._subtract(e),this.project(o.getNorthEast(),t)._subtract(e)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(e){return this.latLngToLayerPoint(e).subtract(this._getCenterLayerPoint())},_limitCenter:function(a,t,i){if(!i)return a;var e=this.project(a,t),n=this.getSize().divideBy(2),o=new f(e.subtract(n),e.add(n)),s=this._getBoundsOffset(o,i,t);return s.round().equals([0,0])?a:this.unproject(e.add(s),t)},_limitOffset:function(o,t){if(!t)return o;var a=this.getPixelBounds(),e=new f(a.min.add(o),a.max.add(o));return o.add(this._getBoundsOffset(e,t))},_getBoundsOffset:function(a,t,i){var e=v(this.project(t.getNorthEast(),i),this.project(t.getSouthWest(),i)),n=e.min.subtract(a.min),o=e.max.subtract(a.max);return new g(this._rebound(n.x,-o.x),this._rebound(n.y,-o.y))},_rebound:function(e,t){return 0<e+t?Math.round(e-t)/2:Math.max(0,Math.ceil(e))-Math.max(0,Math.floor(t))},_limitZoom:function(o){var a=this.getMinZoom(),i=this.getMaxZoom(),e=Do?this.options.zoomSnap:1;return e&&(o=Math.round(o/e)*e),Math.max(a,Math.min(i,o))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){dt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(o,t){var n=this._getCenterOffset(o)._trunc();return(!0===(t&&t.animate)||this.getSize().contains(n))&&(this.panBy(n,t),!0)},_createAnimProxy:function(){var e=this._proxy=nt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(e),this.on("zoomanim",function(o){var t=de,n=this._proxy.style[t];yt(this._proxy,this.project(o.center,o.zoom),this.getZoomScale(o.zoom,1)),n===this._proxy.style[t]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",function(){var e=this.getCenter(),t=this.getZoom();yt(this._proxy,this.project(e,t),this.getZoomScale(t,1))},this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){at(this._proxy),delete this._proxy},_catchTransitionEnd:function(e){this._animatingZoom&&0<=e.propertyName.indexOf("transform")&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(a,t,i){if(this._animatingZoom)return!0;if(i=i||{},!this._zoomAnimated||!1===i.animate||this._nothingToAnimate()||Math.abs(t-this._zoom)>this.options.zoomAnimationThreshold)return!1;var r=this.getZoomScale(t),n=this._getCenterOffset(a)._divideBy(1-1/r);return(!0===i.animate||this.getSize().contains(n))&&(d(function(){this._moveStart(!0,!1)._animateZoom(a,t,!0)},this),!0)},_animateZoom:function(e,t,a,n){this._mapPane&&(a&&(this._animatingZoom=!0,this._animateToCenter=e,this._animateToZoom=t,_t(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:e,zoom:t,noUpdate:n}),setTimeout(to(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&dt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom),d(function(){this._moveEnd(!0)},this))}}),Le=p.extend({options:{position:"topright"},initialize:function(e){u(this,e)},getPosition:function(){return this.options.position},setPosition:function(e){var t=this._map;return t&&t.removeControl(this),this.options.position=e,t&&t.addControl(this),this},getContainer:function(){return this._container},addTo:function(o){this.remove(),this._map=o;var t=this._container=this.onAdd(o),a=this.getPosition(),e=o._controlCorners[a];return _t(t,"leaflet-control"),-1===a.indexOf("bottom")?e.appendChild(t):e.insertBefore(t,e.firstChild),this},remove:function(){return this._map?(at(this._container),this.onRemove&&this.onRemove(this._map),this._map=null,this):this},_refocusOnMap:function(e){this._map&&e&&0<e.screenX&&0<e.screenY&&this._map.getContainer().focus()}}),Pe=function(e){return new Le(e)};we.include({addControl:function(e){return e.addTo(this),this},removeControl:function(e){return e.remove(),this},_initControlPos:function(){function o(n,t){a[n+t]=nt("div",i+n+" "+i+t,e)}var a=this._controlCorners={},i="leaflet-",e=this._controlContainer=nt("div","leaflet-control-container",this._container);o("top","left"),o("top","right"),o("bottom","left"),o("bottom","right")},_clearControlPos:function(){for(var e in this._controlCorners)at(this._controlCorners[e]);at(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var be=Le.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(o,t,a,e){return a<e?-1:e<a?1:0}},initialize:function(o,t,a){for(var e in u(this,a),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,o)this._addLayer(o[e],e);for(e in t)this._addLayer(t[e],e,!0)},onAdd:function(e){this._initLayout(),this._update(),this._map=e,e.on("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(e){return Le.prototype.addTo.call(this,e),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(e,t){return this._addLayer(e,t),this._map?this._update():this},addOverlay:function(e,t){return this._addLayer(e,t,!0),this._map?this._update():this},removeLayer:function(e){e.off("add remove",this._onLayerChange,this);var t=this._getLayer(oo(e));return t&&this._layers.splice(this._layers.indexOf(t),1),this._map?this._update():this},expand:function(){_t(this._container,"leaflet-control-layers-expanded"),this._form.style.height=null;var e=this._map.getSize().y-(this._container.offsetTop+50);return e<this._form.clientHeight?(_t(this._form,"leaflet-control-layers-scrollbar"),this._form.style.height=e+"px"):dt(this._form,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return dt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t=this._container=nt("div","leaflet-control-layers"),a=this.options.collapsed;t.setAttribute("aria-haspopup",!0),G(t),V(t);var e=this._form=nt("form","leaflet-control-layers-list");a&&(this._map.on("click",this.collapse,this),Ao||j(t,{mouseenter:this.expand,mouseleave:this.collapse},this));var n=this._layersLink=nt("a","leaflet-control-layers-toggle",t);n.href="#",n.title="Layers",Ho?(j(n,"click",K),j(n,"click",this.expand,this)):j(n,"focus",this.expand,this),a||this.expand(),this._baseLayersList=nt("div","leaflet-control-layers-base",e),this._separator=nt("div","leaflet-control-layers-separator",e),this._overlaysList=nt("div","leaflet-control-layers-overlays",e),t.appendChild(e)},_getLayer:function(e){for(var t=0;t<this._layers.length;t++)if(this._layers[t]&&oo(this._layers[t].layer)===e)return this._layers[t]},_addLayer:function(e,t,o){this._map&&e.on("add remove",this._onLayerChange,this),this._layers.push({layer:e,name:t,overlay:o}),this.options.sortLayers&&this._layers.sort(to(function(e,t){return this.options.sortFunction(e.layer,t.layer,e.name,t.name)},this)),this.options.autoZIndex&&e.setZIndex&&(this._lastZIndex++,e.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;it(this._baseLayersList),it(this._overlaysList),this._layerControlInputs=[];var a,r,s,l,_=0;for(s=0;s<this._layers.length;s++)l=this._layers[s],this._addItem(l),r=r||l.overlay,a=a||!l.overlay,_+=l.overlay?0:1;return this.options.hideSingleBase&&(a=a&&1<_,this._baseLayersList.style.display=a?"":"none"),this._separator.style.display=r&&a?"":"none",this},_onLayerChange:function(o){this._handlingClick||this._update();var t=this._getLayer(oo(o.target)),n=t.overlay?"add"===o.type?"overlayadd":"overlayremove":"add"===o.type?"baselayerchange":null;n&&this._map.fire(n,t)},_createRadioElement:function(o,t){var a="<input type=\"radio\" class=\"leaflet-control-layers-selector\" name=\""+o+"\""+(t?" checked=\"checked\"":"")+"/>",e=document.createElement("div");return e.innerHTML=a,e.firstChild},_addItem:function(n){var t,a=document.createElement("label"),e=this._map.hasLayer(n.layer);n.overlay?((t=document.createElement("input")).type="checkbox",t.className="leaflet-control-layers-selector",t.defaultChecked=e):t=this._createRadioElement("leaflet-base-layers",e),this._layerControlInputs.push(t),t.layerId=oo(n.layer),j(t,"click",this._onInputClick,this);var o=document.createElement("span");o.innerHTML=" "+n.name;var s=document.createElement("div");return a.appendChild(s),s.appendChild(t),s.appendChild(o),(n.overlay?this._overlaysList:this._baseLayersList).appendChild(a),this._checkDisabledLayers(),a},_onInputClick:function(){var a,r,l=this._layerControlInputs,e=[],n=[];this._handlingClick=!0;for(var o=l.length-1;0<=o;o--)a=l[o],r=this._getLayer(a.layerId).layer,a.checked?e.push(r):a.checked||n.push(r);for(o=0;o<n.length;o++)this._map.hasLayer(n[o])&&this._map.removeLayer(n[o]);for(o=0;o<e.length;o++)this._map.hasLayer(e[o])||this._map.addLayer(e[o]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var a,r,s=this._layerControlInputs,e=this._map.getZoom(),n=s.length-1;0<=n;n--)a=s[n],r=this._getLayer(a.layerId).layer,a.disabled=void 0!==r.options.minZoom&&e<r.options.minZoom||void 0!==r.options.maxZoom&&e>r.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expand:function(){return this.expand()},_collapse:function(){return this.collapse()}}),Te=Le.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"&#x2212;",zoomOutTitle:"Zoom out"},onAdd:function(o){var t=nt("div","leaflet-control-zoom leaflet-bar"),e=this.options;return this._zoomInButton=this._createButton(e.zoomInText,e.zoomInTitle,"leaflet-control-zoom-in",t,this._zoomIn),this._zoomOutButton=this._createButton(e.zoomOutText,e.zoomOutTitle,"leaflet-control-zoom-out",t,this._zoomOut),this._updateDisabled(),o.on("zoomend zoomlevelschange",this._updateDisabled,this),t},onRemove:function(e){e.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(e){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(e.shiftKey?3:1))},_zoomOut:function(e){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(e.shiftKey?3:1))},_createButton:function(a,t,i,e,n){var o=nt("a",i,e);return o.innerHTML=a,o.href="#",o.title=t,o.setAttribute("role","button"),o.setAttribute("aria-label",t),G(o),j(o,"click",K),j(o,"click",n,this),j(o,"click",this._refocusOnMap,this),o},_updateDisabled:function(){var e=this._map;dt(this._zoomInButton,"leaflet-disabled"),dt(this._zoomOutButton,"leaflet-disabled"),(this._disabled||e._zoom===e.getMinZoom())&&_t(this._zoomOutButton,"leaflet-disabled"),(this._disabled||e._zoom===e.getMaxZoom())&&_t(this._zoomInButton,"leaflet-disabled")}});we.mergeOptions({zoomControl:!0}),we.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Te,this.addControl(this.zoomControl))});var ze=Le.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(o){var t=nt("div","leaflet-control-scale"),n=this.options;return this._addScales(n,"leaflet-control-scale-line",t),o.on(n.updateWhenIdle?"moveend":"move",this._update,this),o.whenReady(this._update,this),t},onRemove:function(e){e.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(o,t,n){o.metric&&(this._mScale=nt("div",t,n)),o.imperial&&(this._iScale=nt("div",t,n))},_update:function(){var o=this._map,t=o.getSize().y/2,n=o.distance(o.containerPointToLatLng([0,t]),o.containerPointToLatLng([this.options.maxWidth,t]));this._updateScales(n)},_updateScales:function(e){this.options.metric&&e&&this._updateMetric(e),this.options.imperial&&e&&this._updateImperial(e)},_updateMetric:function(o){var t=this._getRoundNum(o),n=1e3>t?t+" m":t/1e3+" km";this._updateScale(this._mScale,n,t/o)},_updateImperial:function(a){var t,r,s,l=3.2808399*a;5280<l?(t=l/5280,r=this._getRoundNum(t),this._updateScale(this._iScale,r+" mi",r/t)):(s=this._getRoundNum(l),this._updateScale(this._iScale,s+" ft",s/l))},_updateScale:function(o,t,n){o.style.width=Math.round(this.options.maxWidth*n)+"px",o.innerHTML=t},_getRoundNum:function(o){var t=Math.pow(10,(Math.floor(o)+"").length-1),n=o/t;return n=10<=n?10:5<=n?5:3<=n?3:2<=n?2:1,t*n}}),Me=Le.extend({options:{position:"bottomright",prefix:""},initialize:function(e){u(this,e),this._attributions={}},onAdd:function(e){for(var t in e.attributionControl=this,this._container=nt("div","leaflet-control-attribution"),G(this._container),e._layers)e._layers[t].getAttribution&&this.addAttribution(e._layers[t].getAttribution());return this._update(),this._container},setPrefix:function(e){return this.options.prefix=e,this._update(),this},addAttribution:function(e){return e?(this._attributions[e]||(this._attributions[e]=0),this._attributions[e]++,this._update(),this):this},removeAttribution:function(e){return e?(this._attributions[e]&&(this._attributions[e]--,this._update()),this):this},_update:function(){if(this._map){var o=[];for(var t in this._attributions)this._attributions[t]&&o.push(t);var n=[];this.options.prefix&&n.push(this.options.prefix),o.length&&n.push(o.join(", ")),this._container.innerHTML=n.join(" | ")}}});we.mergeOptions({attributionControl:!0}),we.addInitHook(function(){this.options.attributionControl&&new Me().addTo(this)}),Le.Layers=be,Le.Zoom=Te,Le.Scale=ze,Le.Attribution=Me,Pe.layers=function(o,t,n){return new be(o,t,n)},Pe.zoom=function(e){return new Te(e)},Pe.scale=function(e){return new ze(e)},Pe.attribution=function(e){return new Me(e)};var Ce=p.extend({initialize:function(e){this._map=e},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Ce.addTo=function(e,t){return e.addHandler(t,this),this};var Ze,vn=Ho?"touchstart mousedown":"mousedown",ke={mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},Ie={mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"},Ae=so.extend({options:{clickTolerance:3},initialize:function(o,t,a,e){u(this,e),this._element=o,this._dragStartTarget=t||o,this._preventOutline=a},enable:function(){this._enabled||(j(this._dragStartTarget,vn,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Ae._dragging===this&&this.finishDrag(),W(this._dragStartTarget,vn,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(e){if(!e._simulated&&this._enabled&&(this._moved=!1,!lt(this._element,"leaflet-zoom-anim")&&!(Ae._dragging||e.shiftKey||1!==e.which&&1!==e.button&&!e.touches||(Ae._dragging=this,this._preventOutline&&Pt(this._element),vt(),uo(),this._moving)))){this.fire("down");var t=e.touches?e.touches[0]:e;this._startPoint=new g(t.clientX,t.clientY),j(document,Ie[e.type],this._onMove,this),j(document,ke[e.type],this._onUp,this)}},_onMove:function(o){if(!o._simulated&&this._enabled)if(o.touches&&1<o.touches.length)this._moved=!0;else{var t=o.touches&&1===o.touches.length?o.touches[0]:o,n=new g(t.clientX,t.clientY).subtract(this._startPoint);(n.x||n.y)&&(Math.abs(n.x)+Math.abs(n.y)<this.options.clickTolerance||(q(o),this._moved||(this.fire("dragstart"),this._moved=!0,this._startPos=ft(this._element).subtract(n),_t(document.body,"leaflet-dragging"),this._lastTarget=o.target||o.srcElement,window.SVGElementInstance&&this._lastTarget instanceof SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),_t(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(n),this._moving=!0,_(this._animRequest),this._lastEvent=o,this._animRequest=d(this._updatePosition,this,!0)))}},_updatePosition:function(){var e={originalEvent:this._lastEvent};this.fire("predrag",e),ht(this._element,this._newPos),this.fire("drag",e)},_onUp:function(e){!e._simulated&&this._enabled&&this.finishDrag()},finishDrag:function(){for(var e in dt(document.body,"leaflet-dragging"),this._lastTarget&&(dt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Ie)W(document,Ie[e],this._onMove,this),W(document,ke[e],this._onUp,this);xt(),go(),this._moved&&this._moving&&(_(this._animRequest),this.fire("dragend",{distance:this._newPos.distanceTo(this._startPos)})),this._moving=!1,Ae._dragging=!1}}),Be=(Object.freeze||Object)({simplify:bt,pointToSegmentDistance:Tt,closestPointOnSegment:function(o,t,n){return kt(o,t,n)},clipSegment:St,_getEdgeIntersection:Zt,_getBitCode:At,_sqClosestPointOnSegment:kt,isFlat:Bt,_flat:It}),Oe=(Object.freeze||Object)({clipPolygon:Ot}),Re={project:function(e){return new g(e.lng,e.lat)},unproject:function(e){return new P(e.y,e.x)},bounds:new f([-180,-90],[180,90])},De={R:6378137,R_MINOR:6356752.314245179,bounds:new f([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(l){var t=Math.PI/180,i=this.R,e=l.lat*t,_=this.R_MINOR/i,o=Math.sqrt(1-_*_),s=o*Math.sin(e),r=Math.tan(Math.PI/4-e/2)/Math.pow((1-s)/(1+s),o/2);return e=-i*Math.log(Math.max(r,1e-10)),new g(l.lng*t*i,e)},unproject:function(l){for(var t,_=180/Math.PI,e=this.R,n=this.R_MINOR/e,o=Math.sqrt(1-n*n),s=Math.exp(-l.y/e),r=Math.PI/2-2*Math.atan(s),d=0,p=.1;15>d&&1e-7<Math.abs(p);d++)t=o*Math.sin(r),t=Math.pow((1-t)/(1+t),o/2),r+=p=Math.PI/2-2*Math.atan(s*t)-r;return new P(r*_,l.x*_/e)}},Ne=(Object.freeze||Object)({LonLat:Re,Mercator:De,SphericalMercator:mo}),je=eo({},po,{code:"EPSG:3395",projection:De,transformation:function(){var e=.5/(Math.PI*De.R);return z(e,.5,-e,.5)}()}),We=eo({},po,{code:"EPSG:4326",projection:Re,transformation:z(1/180,1,-1/180,.5)}),He=eo({},_o,{projection:Re,transformation:z(1,0,-1,0),scale:function(e){return Math.pow(2,e)},zoom:function(e){return Math.log(e)/Math.LN2},distance:function(o,t){var a=t.lng-o.lng,e=t.lat-o.lat;return Math.sqrt(a*a+e*e)},infinite:!0});_o.Earth=po,_o.EPSG3395=je,_o.EPSG3857=ho,_o.EPSG900913=fo,_o.EPSG4326=We,_o.Simple=He;var Fe=so.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(e){return e.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(e){return e&&e.removeLayer(this),this},getPane:function(e){return this._map.getPane(e?this.options[e]||e:this.options.pane)},addInteractiveTarget:function(e){return this._map._targets[oo(e)]=this,this},removeInteractiveTarget:function(e){return delete this._map._targets[oo(e)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(o){var t=o.target;if(t.hasLayer(this)){if(this._map=t,this._zoomAnimated=t._zoomAnimated,this.getEvents){var n=this.getEvents();t.on(n,this),this.once("remove",function(){t.off(n,this)},this)}this.onAdd(t),this.getAttribution&&t.attributionControl&&t.attributionControl.addAttribution(this.getAttribution()),this.fire("add"),t.fire("layeradd",{layer:this})}}});we.include({addLayer:function(e){if(!e._layerAdd)throw new Error("The provided object is not a Layer.");var t=oo(e);return this._layers[t]?this:(this._layers[t]=e,e._mapToAdd=this,e.beforeAdd&&e.beforeAdd(this),this.whenReady(e._layerAdd,e),this)},removeLayer:function(e){var t=oo(e);return this._layers[t]?(this._loaded&&e.onRemove(this),e.getAttribution&&this.attributionControl&&this.attributionControl.removeAttribution(e.getAttribution()),delete this._layers[t],this._loaded&&(this.fire("layerremove",{layer:e}),e.fire("remove")),e._map=e._mapToAdd=null,this):this},hasLayer:function(e){return!!e&&oo(e)in this._layers},eachLayer:function(o,t){for(var n in this._layers)o.call(t,this._layers[n]);return this},_addLayers:function(o){for(var n=0,a=(o=o?Qt(o)?o:[o]:[]).length;n<a;n++)this.addLayer(o[n])},_addZoomLimit:function(e){!isNaN(e.options.maxZoom)&&isNaN(e.options.minZoom)||(this._zoomBoundLayers[oo(e)]=e,this._updateZoomLevels())},_removeZoomLimit:function(e){var t=oo(e);this._zoomBoundLayers[t]&&(delete this._zoomBoundLayers[t],this._updateZoomLevels())},_updateZoomLevels:function(){var a=1/0,r=-1/0,s=this._getZoomSpan();for(var e in this._zoomBoundLayers){var n=this._zoomBoundLayers[e].options;a=void 0===n.minZoom?a:Math.min(a,n.minZoom),r=void 0===n.maxZoom?r:Math.max(r,n.maxZoom)}this._layersMaxZoom=r===-1/0?void 0:r,this._layersMinZoom=a===1/0?void 0:a,s!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Ue=Fe.extend({initialize:function(o,t){u(this,t),this._layers={};var a,i;if(o)for(a=0,i=o.length;a<i;a++)this.addLayer(o[a])},addLayer:function(e){var t=this.getLayerId(e);return this._layers[t]=e,this._map&&this._map.addLayer(e),this},removeLayer:function(e){var t=e in this._layers?e:this.getLayerId(e);return this._map&&this._layers[t]&&this._map.removeLayer(this._layers[t]),delete this._layers[t],this},hasLayer:function(e){return!!e&&(e in this._layers||this.getLayerId(e)in this._layers)},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(o){var t,a,r=Array.prototype.slice.call(arguments,1);for(t in this._layers)(a=this._layers[t])[o]&&a[o].apply(a,r);return this},onAdd:function(e){this.eachLayer(e.addLayer,e)},onRemove:function(e){this.eachLayer(e.removeLayer,e)},eachLayer:function(o,t){for(var n in this._layers)o.call(t,this._layers[n]);return this},getLayer:function(e){return this._layers[e]},getLayers:function(){var e=[];return this.eachLayer(e.push,e),e},setZIndex:function(e){return this.invoke("setZIndex",e)},getLayerId:function(e){return oo(e)}}),Ve=Ue.extend({addLayer:function(e){return this.hasLayer(e)?this:(e.addEventParent(this),Ue.prototype.addLayer.call(this,e),this.fire("layeradd",{layer:e}))},removeLayer:function(e){return this.hasLayer(e)?(e in this._layers&&(e=this._layers[e]),e.removeEventParent(this),Ue.prototype.removeLayer.call(this,e),this.fire("layerremove",{layer:e})):this},setStyle:function(e){return this.invoke("setStyle",e)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var o=new c;for(var t in this._layers){var n=this._layers[t];o.extend(n.getBounds?n.getBounds():n.getLatLng())}return o}}),qe=p.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0]},initialize:function(e){u(this,e)},createIcon:function(e){return this._createIcon("icon",e)},createShadow:function(e){return this._createIcon("shadow",e)},_createIcon:function(o,t){var a=this._getIconUrl(o);if(!a){if("icon"===o)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var e=this._createImg(a,t&&"IMG"===t.tagName?t:null);return this._setIconStyles(e,o),e},_setIconStyles:function(a,t){var i=this.options,e=i[t+"Size"];"number"==typeof e&&(e=[e,e]);var r=y(e),o=y("shadow"===t&&i.shadowAnchor||i.iconAnchor||r&&r.divideBy(2,!0));a.className="leaflet-marker-"+t+" "+(i.className||""),o&&(a.style.marginLeft=-o.x+"px",a.style.marginTop=-o.y+"px"),r&&(a.style.width=r.x+"px",a.style.height=r.y+"px")},_createImg:function(e,t){return t=t||document.createElement("img"),t.src=e,t},_getIconUrl:function(e){return Fo&&this.options[e+"RetinaUrl"]||this.options[e+"Url"]}}),Ge=qe.extend({options:{iconUrl:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACUAAAA0CAMAAAA6ygEPAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAADUExURQAAAKd6PdoAAAABdFJOUwBA5thmAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAGElEQVRIS2MYBaNgFIyCUTAKRsEQAQwMAAe4AAEuFVfdAAAAAElFTkSuQmCC",iconRetinaUrl:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAABSCAMAAAAhFXfZAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAADUExURQAAAKd6PdoAAAABdFJOUwBA5thmAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAG0lEQVRYR+3BMQEAAADCoPVPbQdvIAAAAIBDDRBWAAHO2RUTAAAAAElFTkSuQmCC",shadowUrl:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAMAAACfvvDEAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAADUExURQAAAKd6PdoAAAABdFJOUwBA5thmAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAF0lEQVQ4T2MYBaNgFIyCUTAKhhBgYAAABroAAQ9aqmcAAAAASUVORK5CYII=",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(e){return Ge.imagePath||(Ge.imagePath=this._detectIconPath()),(this.options.imagePath||Ge.imagePath)+qe.prototype._getIconUrl.call(this,e)},_detectIconPath:function(){var e=nt("div","leaflet-default-icon-path",document.body),t=ot(e,"background-image")||ot(e,"backgroundImage");return document.body.removeChild(e),t=null===t||0!==t.indexOf("url")?"":t.replace(/^url\(["']?/,"").replace(/marker-icon\.png["']?\)$/,"")}}),Ke=Ce.extend({initialize:function(e){this._marker=e},addHooks:function(){var e=this._marker._icon;this._draggable||(this._draggable=new Ae(e,e,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),_t(e,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&dt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(l){var t=this._marker,i=t._map,e=this._marker.options.autoPanSpeed,n=this._marker.options.autoPanPadding,o=L.DomUtil.getPosition(t._icon),s=i.getPixelBounds(),r=i.getPixelOrigin(),a=v(s.min._subtract(r).add(n),s.max._subtract(r).subtract(n));if(!a.contains(o)){var _=y((Math.max(a.max.x,o.x)-a.max.x)/(s.max.x-a.max.x)-(Math.min(a.min.x,o.x)-a.min.x)/(s.min.x-a.min.x),(Math.max(a.max.y,o.y)-a.max.y)/(s.max.y-a.max.y)-(Math.min(a.min.y,o.y)-a.min.y)/(s.min.y-a.min.y)).multiplyBy(e);i.panBy(_,{animate:!1}),this._draggable._newPos._add(_),this._draggable._startPos._add(_),L.DomUtil.setPosition(t._icon,this._draggable._newPos),this._onDrag(l),this._panRequest=d(this._adjustPan.bind(this,l))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup().fire("movestart").fire("dragstart")},_onPreDrag:function(e){this._marker.options.autoPan&&(_(this._panRequest),this._panRequest=d(this._adjustPan.bind(this,e)))},_onDrag:function(a){var t=this._marker,i=t._shadow,e=ft(t._icon),n=t._map.layerPointToLatLng(e);i&&ht(i,e),t._latlng=n,a.latlng=n,a.oldLatLng=this._oldLatLng,t.fire("move",a).fire("drag",a)},_onDragEnd:function(e){_(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",e)}}),Ye=Fe.extend({options:{icon:new Ge,interactive:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10,keyboard:!0,title:"",alt:"",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",bubblingMouseEvents:!1},initialize:function(e,t){u(this,t),this._latlng=T(e)},onAdd:function(e){this._zoomAnimated=this._zoomAnimated&&e.options.markerZoomAnimation,this._zoomAnimated&&e.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(e){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&e.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(e){var t=this._latlng;return this._latlng=T(e),this.update(),this.fire("move",{oldLatLng:t,latlng:this._latlng})},setZIndexOffset:function(e){return this.options.zIndexOffset=e,this.update()},setIcon:function(e){return this.options.icon=e,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var e=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(e)}return this},_initIcon:function(){var a=this.options,t="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),i=a.icon.createIcon(this._icon),e=!1;i!==this._icon&&(this._icon&&this._removeIcon(),e=!0,a.title&&(i.title=a.title),"IMG"===i.tagName&&(i.alt=a.alt||"")),_t(i,t),a.keyboard&&(i.tabIndex="0"),this._icon=i,a.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex});var r=a.icon.createShadow(this._shadow),o=!1;r!==this._shadow&&(this._removeShadow(),o=!0),r&&(_t(r,t),r.alt=""),this._shadow=r,1>a.opacity&&this._updateOpacity(),e&&this.getPane().appendChild(this._icon),this._initInteraction(),r&&o&&this.getPane("shadowPane").appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),at(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&at(this._shadow),this._shadow=null},_setPos:function(e){ht(this._icon,e),this._shadow&&ht(this._shadow,e),this._zIndex=e.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(e){this._icon.style.zIndex=this._zIndex+e},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center).round();this._setPos(t)},_initInteraction:function(){if(this.options.interactive&&(_t(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Ke)){var e=this.options.draggable;this.dragging&&(e=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Ke(this),e&&this.dragging.enable()}},setOpacity:function(e){return this.options.opacity=e,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var e=this.options.opacity;ct(this._icon,e),this._shadow&&ct(this._shadow,e)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}}),Xe=Fe.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(e){this._renderer=e.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(e){return u(this,e),this._renderer&&this._renderer._updateStyle(this),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+this._renderer.options.tolerance}}),Je=Xe.extend({options:{fill:!0,radius:10},initialize:function(e,t){u(this,t),this._latlng=T(e),this._radius=this.options.radius},setLatLng:function(e){return this._latlng=T(e),this.redraw(),this.fire("move",{latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(e){return this.options.radius=this._radius=e,this.redraw()},getRadius:function(){return this._radius},setStyle:function(e){var t=e&&e.radius||this._radius;return Xe.prototype.setStyle.call(this,e),this.setRadius(t),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var o=this._radius,t=this._radiusY||o,a=this._clickTolerance(),e=[o+a,t+a];this._pxBounds=new f(this._point.subtract(e),this._point.add(e))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(e){return e.distanceTo(this._point)<=this._radius+this._clickTolerance()}}),$e=Je.extend({initialize:function(o,t,a){if("number"==typeof t&&(t=eo({},a,{radius:t})),u(this,t),this._latlng=T(o),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(e){return this._mRadius=e,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var e=[this._radius,this._radiusY||this._radius];return new c(this._map.layerPointToLatLng(this._point.subtract(e)),this._map.layerPointToLatLng(this._point.add(e)))},setStyle:Xe.prototype.setStyle,_project:function(){var _=this._latlng.lng,t=this._latlng.lat,i=this._map,e=i.options.crs;if(e.distance===po.distance){var n=Math.PI/180,o=this._mRadius/po.R/n,s=i.project([t+o,_]),r=i.project([t-o,_]),a=s.add(r).divideBy(2),d=i.unproject(a).lat,p=Math.acos((Math.cos(o*n)-Math.sin(t*n)*Math.sin(d*n))/(Math.cos(t*n)*Math.cos(d*n)))/n;(isNaN(p)||0===p)&&(p=o/Math.cos(Math.PI/180*t)),this._point=a.subtract(i.getPixelOrigin()),this._radius=isNaN(p)?0:a.x-i.project([d,_-p]).x,this._radiusY=a.y-s.y}else{var m=e.unproject(e.project(this._latlng).subtract([this._mRadius,0]));this._point=i.latLngToLayerPoint(this._latlng),this._radius=this._point.x-i.latLngToLayerPoint(m).x}this._updateBounds()}}),Qe=Xe.extend({options:{smoothFactor:1,noClip:!1},initialize:function(e,t){u(this,t),this._setLatLngs(e)},getLatLngs:function(){return this._latlngs},setLatLngs:function(e){return this._setLatLngs(e),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(_){for(var t,d,p=1/0,m=null,g=kt,s=0,y=this._parts.length;s<y;s++)for(var a,f=this._parts[s],h=1,v=f.length;h<v;h++)a=g(_,t=f[h-1],d=f[h],!0),a<p&&(p=a,m=g(_,t,d));return m&&(m.distance=Math.sqrt(p)),m},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var l,_,d,p,m,c,u,g=this._rings[0],a=g.length;if(!a)return null;for(l=0,_=0;l<a-1;l++)_+=g[l].distanceTo(g[l+1])/2;if(0===_)return this._map.layerPointToLatLng(g[0]);for(l=0,p=0;l<a-1;l++)if(m=g[l],c=g[l+1],d=m.distanceTo(c),(p+=d)>_)return u=(p-_)/d,this._map.layerPointToLatLng([c.x-u*(c.x-m.x),c.y-u*(c.y-m.y)])},getBounds:function(){return this._bounds},addLatLng:function(e,o){return o=o||this._defaultShape(),e=T(e),o.push(e),this._bounds.extend(e),this.redraw()},_setLatLngs:function(e){this._bounds=new c,this._latlngs=this._convertLatLngs(e)},_defaultShape:function(){return Bt(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(a){for(var t=[],i=Bt(a),e=0,r=a.length;e<r;e++)i?(t[e]=T(a[e]),this._bounds.extend(t[e])):t[e]=this._convertLatLngs(a[e]);return t},_project:function(){var o=new f;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,o);var t=this._clickTolerance(),n=new g(t,t);this._bounds.isValid()&&o.isValid()&&(o.min._subtract(n),o.max._add(n),this._pxBounds=o)},_projectLatlngs:function(a,t,i){var e,l,_=a[0]instanceof P,s=a.length;if(_){for(l=[],e=0;e<s;e++)l[e]=this._map.latLngToLayerPoint(a[e]),i.extend(l[e]);t.push(l)}else for(e=0;e<s;e++)this._projectLatlngs(a[e],t,i)},_clipPoints:function(){var l=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(l))if(this.options.noClip)this._parts=this._rings;else{var t,_,d,p,m,c,u,g=this._parts;for(t=0,d=0,p=this._rings.length;t<p;t++)for(_=0,m=(u=this._rings[t]).length;_<m-1;_++)(c=St(u[_],u[_+1],l,_,!0))&&(g[d]=g[d]||[],g[d].push(c[0]),c[1]===u[_+1]&&_!==m-2||(g[d].push(c[1]),d++))}},_simplifyPoints:function(){for(var o=this._parts,t=this.options.smoothFactor,a=0,i=o.length;a<i;a++)o[a]=bt(o[a],t)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(l,t){var i,_,d,p,m,c,u=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(l))return!1;for(i=0,p=this._parts.length;i<p;i++)for(_=0,d=(m=(c=this._parts[i]).length)-1;_<m;d=_++)if((t||0!==_)&&Tt(l,c[d],c[_])<=u)return!0;return!1}});Qe._flat=It;var tn=Qe.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var _,d,p,m,c,g,y,f,v,x=this._rings[0],u=x.length;if(!u)return null;for(g=y=f=0,_=0,d=u-1;_<u;d=_++)p=x[_],m=x[d],c=p.y*m.x-m.y*p.x,y+=(p.x+m.x)*c,f+=(p.y+m.y)*c,g+=3*c;return v=0===g?x[0]:[y/g,f/g],this._map.layerPointToLatLng(v)},_convertLatLngs:function(o){var t=Qe.prototype._convertLatLngs.call(this,o),n=t.length;return 2<=n&&t[0]instanceof P&&t[0].equals(t[n-1])&&t.pop(),t},_setLatLngs:function(e){Qe.prototype._setLatLngs.call(this,e),Bt(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Bt(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var a=this._renderer._bounds,r=this.options.weight,i=new g(r,r);if(a=new f(a.min.subtract(i),a.max.add(i)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(a))if(this.options.noClip)this._parts=this._rings;else for(var e,l=0,_=this._rings.length;l<_;l++)(e=Ot(this._rings[l],a,!0)).length&&this._parts.push(e)},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(l){var t,_,d,p,m,c,g,y,f=!1;if(!this._pxBounds.contains(l))return!1;for(p=0,g=this._parts.length;p<g;p++)for(m=0,c=(y=(t=this._parts[p]).length)-1;m<y;c=m++)_=t[m],d=t[c],_.y>l.y!=d.y>l.y&&l.x<(d.x-_.x)*(l.y-_.y)/(d.y-_.y)+_.x&&(f=!f);return f||Qe.prototype._containsPoint.call(this,l,!0)}}),en=Ve.extend({initialize:function(e,t){u(this,t),this._layers={},e&&this.addData(e)},addData:function(a){var t,l,_,d=Qt(a)?a:a.features;if(d){for(t=0,l=d.length;t<l;t++)((_=d[t]).geometries||_.geometry||_.features||_.coordinates)&&this.addData(_);return this}var o=this.options;if(o.filter&&!o.filter(a))return this;var s=Mt(a,o);return s?(s.feature=Ht(a),s.defaultOptions=s.options,this.resetStyle(s),o.onEachFeature&&o.onEachFeature(a,s),this.addLayer(s)):this},resetStyle:function(e){return e.options=eo({},e.defaultOptions),this._setLayerStyle(e,this.options.style),this},setStyle:function(e){return this.eachLayer(function(t){this._setLayerStyle(t,e)},this)},_setLayerStyle:function(e,t){"function"==typeof t&&(t=t(e.feature)),e.setStyle&&e.setStyle(t)}}),nn={toGeoJSON:function(e){return Wt(this,{type:"Point",coordinates:Nt(this.getLatLng(),e)})}};Ye.include(nn),$e.include(nn),Je.include(nn),Qe.include({toGeoJSON:function(o){var t=!Bt(this._latlngs),n=jt(this._latlngs,t?1:0,!1,o);return Wt(this,{type:(t?"Multi":"")+"LineString",coordinates:n})}}),tn.include({toGeoJSON:function(o){var t=!Bt(this._latlngs),a=t&&!Bt(this._latlngs[0]),e=jt(this._latlngs,a?2:t?1:0,!0,o);return t||(e=[e]),Wt(this,{type:(a?"Multi":"")+"Polygon",coordinates:e})}}),Ue.include({toMultiPoint:function(o){var t=[];return this.eachLayer(function(n){t.push(n.toGeoJSON(o).geometry.coordinates)}),Wt(this,{type:"MultiPoint",coordinates:t})},toGeoJSON:function(a){var t=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===t)return this.toMultiPoint(a);var r="GeometryCollection"===t,e=[];return this.eachLayer(function(t){if(t.toGeoJSON){var n=t.toGeoJSON(a);if(r)e.push(n.geometry);else{var o=Ht(n);"FeatureCollection"===o.type?e.push.apply(e,o.features):e.push(o)}}}),r?Wt(this,{geometries:e,type:"GeometryCollection"}):{type:"FeatureCollection",features:e}}});var on=Fe.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(o,t,n){this._url=o,this._bounds=x(t),u(this,n)},onAdd:function(){this._image||(this._initImage(),1>this.options.opacity&&this._updateOpacity()),this.options.interactive&&(_t(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){at(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(e){return this.options.opacity=e,this._image&&this._updateOpacity(),this},setStyle:function(e){return e.opacity&&this.setOpacity(e.opacity),this},bringToFront:function(){return this._map&&rt(this._image),this},bringToBack:function(){return this._map&&st(this._image),this},setUrl:function(e){return this._url=e,this._image&&(this._image.src=e),this},setBounds:function(e){return this._bounds=x(e),this._map&&this._reset(),this},getEvents:function(){var e={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var e="IMG"===this._url.tagName,t=this._image=e?this._url:nt("img");_t(t,"leaflet-image-layer"),this._zoomAnimated&&_t(t,"leaflet-zoom-animated"),this.options.className&&_t(t,this.options.className),t.onselectstart=no,t.onmousemove=no,t.onload=to(this.fire,this,"load"),t.onerror=to(this._overlayOnError,this,"error"),this.options.crossOrigin&&(t.crossOrigin=""),this.options.zIndex&&this._updateZIndex(),e?this._url=t.src:(t.src=this._url,t.alt=this.options.alt)},_animateZoom:function(o){var t=this._map.getZoomScale(o.zoom),n=this._map._latLngBoundsToNewLayerBounds(this._bounds,o.zoom,o.center).min;yt(this._image,n,t)},_reset:function(){var o=this._image,t=new f(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),n=t.getSize();ht(o,t.min),o.style.width=n.x+"px",o.style.height=n.y+"px"},_updateOpacity:function(){ct(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var e=this.options.errorOverlayUrl;e&&this._url!==e&&(this._url=e,this._image.src=e)}}),rn=on.extend({options:{autoplay:!0,loop:!0},_initImage:function(){var e="VIDEO"===this._url.tagName,t=this._image=e?this._url:nt("video");if(_t(t,"leaflet-image-layer"),this._zoomAnimated&&_t(t,"leaflet-zoom-animated"),t.onselectstart=no,t.onmousemove=no,t.onloadeddata=to(this.fire,this,"load"),e){for(var i=t.getElementsByTagName("source"),n=[],o=0;o<i.length;o++)n.push(i[o].src);this._url=0<i.length?n:[t.src]}else{Qt(this._url)||(this._url=[this._url]),t.autoplay=!!this.options.autoplay,t.loop=!!this.options.loop;for(var r,l=0;l<this._url.length;l++)r=nt("source"),r.src=this._url[l],t.appendChild(r)}}}),an=Fe.extend({options:{offset:[0,7],className:"",pane:"popupPane"},initialize:function(e,t){u(this,e),this._source=t},onAdd:function(e){this._zoomAnimated=e._zoomAnimated,this._container||this._initLayout(),e._fadeAnimated&&ct(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),e._fadeAnimated&&ct(this._container,1),this.bringToFront()},onRemove:function(e){e._fadeAnimated?(ct(this._container,0),this._removeTimeout=setTimeout(to(at,void 0,this._container),200)):at(this._container)},getLatLng:function(){return this._latlng},setLatLng:function(e){return this._latlng=T(e),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(e){return this._content=e,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var e={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&rt(this._container),this},bringToBack:function(){return this._map&&st(this._container),this},_updateContent:function(){if(this._content){var e=this._contentNode,t="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof t)e.innerHTML=t;else{for(;e.hasChildNodes();)e.removeChild(e.firstChild);e.appendChild(t)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var a=this._map.latLngToLayerPoint(this._latlng),t=y(this.options.offset),r=this._getAnchor();this._zoomAnimated?ht(this._container,a.add(r)):t=t.add(a).add(r);var e=this._containerBottom=-t.y,n=this._containerLeft=-Math.round(this._containerWidth/2)+t.x;this._container.style.bottom=e+"px",this._container.style.left=n+"px"}},_getAnchor:function(){return[0,0]}}),hn=an.extend({options:{maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(e){return e.openPopup(this),this},onAdd:function(e){an.prototype.onAdd.call(this,e),e.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Xe||this._source.on("preclick",F))},onRemove:function(e){an.prototype.onRemove.call(this,e),e.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Xe||this._source.off("preclick",F))},getEvents:function(){var e=an.prototype.getEvents.call(this);return(void 0===this.options.closeOnClick?this._map.options.closePopupOnClick:this.options.closeOnClick)&&(e.preclick=this._close),this.options.keepInView&&(e.moveend=this._adjustPan),e},_close:function(){this._map&&this._map.closePopup(this)},_initLayout:function(){var t=this._container=nt("div","leaflet-popup "+(this.options.className||"")+" leaflet-zoom-animated"),o=this._wrapper=nt("div","leaflet-popup-content-wrapper",t);if(this._contentNode=nt("div","leaflet-popup-content",o),G(o),V(this._contentNode),j(o,"contextmenu",F),this._tipContainer=nt("div","leaflet-popup-tip-container",t),this._tip=nt("div","leaflet-popup-tip",this._tipContainer),this.options.closeButton){var e=this._closeButton=nt("a","leaflet-popup-close-button",t);e.href="#close",e.innerHTML="&#215;",j(e,"click",this._onCloseButtonClick,this)}},_updateLayout:function(){var a=this._contentNode,t=a.style;t.width="",t.whiteSpace="nowrap";var i=a.offsetWidth;i=Math.min(i,this.options.maxWidth),i=Math.max(i,this.options.minWidth),t.width=i+1+"px",t.whiteSpace="",t.height="";var r=a.offsetHeight,n=this.options.maxHeight;n&&r>n?(t.height=n+"px",_t(a,"leaflet-popup-scrolled")):dt(a,"leaflet-popup-scrolled"),this._containerWidth=this._container.offsetWidth},_animateZoom:function(o){var t=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center),n=this._getAnchor();ht(this._container,t.add(n))},_adjustPan:function(){if(!(!this.options.autoPan||this._map._panAnim&&this._map._panAnim._inProgress)){var _=this._map,t=parseInt(ot(this._container,"marginBottom"),10)||0,i=this._container.offsetHeight+t,e=this._containerWidth,n=new g(this._containerLeft,-i-this._containerBottom);n._add(ft(this._container));var o=_.layerPointToContainerPoint(n),s=y(this.options.autoPanPadding),r=y(this.options.autoPanPaddingTopLeft||s),a=y(this.options.autoPanPaddingBottomRight||s),d=_.getSize(),p=0,m=0;o.x+e+a.x>d.x&&(p=o.x+e-d.x+a.x),0>o.x-p-r.x&&(p=o.x-r.x),o.y+i+a.y>d.y&&(m=o.y+i-d.y+a.y),0>o.y-m-r.y&&(m=o.y-r.y),(p||m)&&_.fire("autopanstart").panBy([p,m])}},_onCloseButtonClick:function(e){this._close(),K(e)},_getAnchor:function(){return y(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}});we.mergeOptions({closePopupOnClick:!0}),we.include({openPopup:function(o,n,a){return o instanceof hn||(o=new hn(a).setContent(o)),n&&o.setLatLng(n),this.hasLayer(o)?this:(this._popup&&this._popup.options.autoClose&&this.closePopup(),this._popup=o,this.addLayer(o))},closePopup:function(e){return e&&e!==this._popup||(e=this._popup,this._popup=null),e&&this.removeLayer(e),this}}),Fe.include({bindPopup:function(e,t){return e instanceof hn?(u(e,t),this._popup=e,e._source=this):(this._popup&&!t||(this._popup=new hn(t,this)),this._popup.setContent(e)),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(o,n){if(o instanceof Fe||(n=o,o=this),o instanceof Ve)for(var a in this._layers){o=this._layers[a];break}return n||(n=o.getCenter?o.getCenter():o.getLatLng()),this._popup&&this._map&&(this._popup._source=o,this._popup.update(),this._map.openPopup(this._popup,n)),this},closePopup:function(){return this._popup&&this._popup._close(),this},togglePopup:function(e){return this._popup&&(this._popup._map?this.closePopup():this.openPopup(e)),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(e){return this._popup&&this._popup.setContent(e),this},getPopup:function(){return this._popup},_openPopup:function(e){var t=e.layer||e.target;this._popup&&this._map&&(K(e),t instanceof Xe?this.openPopup(e.layer||e.target,e.latlng):this._map.hasLayer(this._popup)&&this._popup._source===t?this.closePopup():this.openPopup(t,e.latlng))},_movePopup:function(e){this._popup.setLatLng(e.latlng)},_onKeyPress:function(e){13===e.originalEvent.keyCode&&this._openPopup(e)}});var un=an.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,interactive:!1,opacity:.9},onAdd:function(e){an.prototype.onAdd.call(this,e),this.setOpacity(this.options.opacity),e.fire("tooltipopen",{tooltip:this}),this._source&&this._source.fire("tooltipopen",{tooltip:this},!0)},onRemove:function(e){an.prototype.onRemove.call(this,e),e.fire("tooltipclose",{tooltip:this}),this._source&&this._source.fire("tooltipclose",{tooltip:this},!0)},getEvents:function(){var e=an.prototype.getEvents.call(this);return Ho&&!this.options.permanent&&(e.preclick=this._close),e},_close:function(){this._map&&this._map.closeTooltip(this)},_initLayout:function(){var e="leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=nt("div",e)},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(l){var _=this._map,i=this._container,e=_.latLngToContainerPoint(_.getCenter()),n=_.layerPointToContainerPoint(l),o=this.options.direction,d=i.offsetWidth,r=i.offsetHeight,a=y(this.options.offset),p=this._getAnchor();"top"===o?l=l.add(y(-d/2+a.x,-r+a.y+p.y,!0)):"bottom"===o?l=l.subtract(y(d/2-a.x,-a.y,!0)):"center"===o?l=l.subtract(y(d/2+a.x,r/2-p.y+a.y,!0)):"right"===o||"auto"===o&&n.x<e.x?(o="right",l=l.add(y(a.x+p.x,p.y-r/2+a.y,!0))):(o="left",l=l.subtract(y(d+p.x-a.x,r/2-p.y-a.y,!0))),dt(i,"leaflet-tooltip-right"),dt(i,"leaflet-tooltip-left"),dt(i,"leaflet-tooltip-top"),dt(i,"leaflet-tooltip-bottom"),_t(i,"leaflet-tooltip-"+o),ht(i,l)},_updatePosition:function(){var e=this._map.latLngToLayerPoint(this._latlng);this._setPosition(e)},setOpacity:function(e){this.options.opacity=e,this._container&&ct(this._container,e)},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center);this._setPosition(t)},_getAnchor:function(){return y(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}});we.include({openTooltip:function(o,n,a){return o instanceof un||(o=new un(a).setContent(o)),n&&o.setLatLng(n),this.hasLayer(o)?this:this.addLayer(o)},closeTooltip:function(e){return e&&this.removeLayer(e),this}}),Fe.include({bindTooltip:function(e,t){return e instanceof un?(u(e,t),this._tooltip=e,e._source=this):(this._tooltip&&!t||(this._tooltip=new un(t,this)),this._tooltip.setContent(e)),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(o){if(o||!this._tooltipHandlersAdded){var t=o?"off":"on",n={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?n.add=this._openTooltip:(n.mouseover=this._openTooltip,n.mouseout=this.closeTooltip,this._tooltip.options.sticky&&(n.mousemove=this._moveTooltip),Ho&&(n.click=this._openTooltip)),this[t](n),this._tooltipHandlersAdded=!o}},openTooltip:function(o,n){if(o instanceof Fe||(n=o,o=this),o instanceof Ve)for(var a in this._layers){o=this._layers[a];break}return n||(n=o.getCenter?o.getCenter():o.getLatLng()),this._tooltip&&this._map&&(this._tooltip._source=o,this._tooltip.update(),this._map.openTooltip(this._tooltip,n),this._tooltip.options.interactive&&this._tooltip._container&&(_t(this._tooltip._container,"leaflet-clickable"),this.addInteractiveTarget(this._tooltip._container))),this},closeTooltip:function(){return this._tooltip&&(this._tooltip._close(),this._tooltip.options.interactive&&this._tooltip._container&&(dt(this._tooltip._container,"leaflet-clickable"),this.removeInteractiveTarget(this._tooltip._container))),this},toggleTooltip:function(e){return this._tooltip&&(this._tooltip._map?this.closeTooltip():this.openTooltip(e)),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(e){return this._tooltip&&this._tooltip.setContent(e),this},getTooltip:function(){return this._tooltip},_openTooltip:function(e){var t=e.layer||e.target;this._tooltip&&this._map&&this.openTooltip(t,this._tooltip.options.sticky?e.latlng:void 0)},_moveTooltip:function(o){var t,a,r=o.latlng;this._tooltip.options.sticky&&o.originalEvent&&(t=this._map.mouseEventToContainerPoint(o.originalEvent),a=this._map.containerPointToLayerPoint(t),r=this._map.layerPointToLatLng(a)),this._tooltip.setLatLng(r)}});var ln=qe.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(o){var t=o&&"DIV"===o.tagName?o:document.createElement("div"),a=this.options;if(t.innerHTML=!1===a.html?"":a.html,a.bgPos){var e=y(a.bgPos);t.style.backgroundPosition=-e.x+"px "+-e.y+"px"}return this._setIconStyles(t,"icon"),t},createShadow:function(){return null}});qe.Default=Ge;var cn=Fe.extend({options:{tileSize:256,opacity:1,updateWhenIdle:No,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(e){u(this,e)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView(),this._update()},beforeAdd:function(e){e._addZoomLimit(this)},onRemove:function(e){this._removeAllTiles(),at(this._container),e._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(rt(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(st(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(e){return this.options.opacity=e,this._updateOpacity(),this},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){return this._map&&(this._removeAllTiles(),this._update()),this},getEvents:function(){var o={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=e(this._onMoveEnd,this.options.updateInterval,this)),o.move=this._onMove),this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},createTile:function(){return document.createElement("div")},getTileSize:function(){var e=this.options.tileSize;return e instanceof g?e:new g(e,e)},_updateZIndex:function(){this._container&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(a){for(var t,r=this.getPane().children,e=-a(-1/0,1/0),l=0,_=r.length;l<_;l++)t=r[l].style.zIndex,r[l]!==this._container&&t&&(e=a(e,+t));isFinite(e)&&(this.options.zIndex=e+a(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Po){ct(this._container,this.options.opacity);var a=+new Date,t=!1,r=!1;for(var l in this._tiles){var n=this._tiles[l];if(n.current&&n.loaded){var o=Math.min(1,(a-n.loaded)/200);ct(n.el,o),1>o?t=!0:(n.active?r=!0:this._onOpaqueTile(n),n.active=!0)}}r&&!this._noPrune&&this._pruneTiles(),t&&(_(this._fadeFrame),this._fadeFrame=d(this._updateOpacity,this))}},_onOpaqueTile:no,_initContainer:function(){this._container||(this._container=nt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),1>this.options.opacity&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var a=this._tileZoom,t=this.options.maxZoom;if(void 0!==a){for(var i in this._levels)this._levels[i].el.children.length||i===a?(this._levels[i].el.style.zIndex=t-Math.abs(a-i),this._onUpdateLevel(i)):(at(this._levels[i].el),this._removeTilesAtZoom(i),this._onRemoveLevel(i),delete this._levels[i]);var e=this._levels[a],r=this._map;return e||((e=this._levels[a]={}).el=nt("div","leaflet-tile-container leaflet-zoom-animated",this._container),e.el.style.zIndex=t,e.origin=r.project(r.unproject(r.getPixelOrigin()),a).round(),e.zoom=a,this._setZoomTransform(e,r.getCenter(),r.getZoom()),e.el.offsetWidth,this._onCreateLevel(e)),this._level=e,e}},_onUpdateLevel:no,_onRemoveLevel:no,_onCreateLevel:no,_pruneTiles:function(){if(this._map){var o,a,r=this._map.getZoom();if(r>this.options.maxZoom||r<this.options.minZoom)this._removeAllTiles();else{for(o in this._tiles)(a=this._tiles[o]).retain=a.current;for(o in this._tiles)if((a=this._tiles[o]).current&&!a.active){var e=a.coords;this._retainParent(e.x,e.y,e.z,e.z-5)||this._retainChildren(e.x,e.y,e.z,e.z+2)}for(o in this._tiles)this._tiles[o].retain||this._removeTile(o)}}},_removeTilesAtZoom:function(e){for(var t in this._tiles)this._tiles[t].coords.z===e&&this._removeTile(t)},_removeAllTiles:function(){for(var e in this._tiles)this._removeTile(e)},_invalidateAll:function(){for(var e in this._levels)at(this._levels[e].el),this._onRemoveLevel(e),delete this._levels[e];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(l,t,i,e){var n=Math.floor(l/2),o=Math.floor(t/2),s=i-1,r=new g(+n,+o);r.z=+s;var a=this._tileCoordsToKey(r),_=this._tiles[a];return _&&_.active?(_.retain=!0,!0):(_&&_.loaded&&(_.retain=!0),s>e&&this._retainParent(n,o,s,e))},_retainChildren:function(l,t,i,e){for(var n=2*l;n<2*l+2;n++)for(var _,d=2*t;d<2*t+2;d++){_=new g(n,d),_.z=i+1;var p=this._tileCoordsToKey(_),a=this._tiles[p];a&&a.active?a.retain=!0:(a&&a.loaded&&(a.retain=!0),i+1<e&&this._retainChildren(n,d,i+1,e))}},_resetView:function(e){var t=e&&(e.pinch||e.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),t,t)},_animateZoom:function(e){this._setView(e.center,e.zoom,!0,e.noUpdate)},_clampZoom:function(e){var t=this.options;return void 0!==t.minNativeZoom&&e<t.minNativeZoom?t.minNativeZoom:void 0!==t.maxNativeZoom&&t.maxNativeZoom<e?t.maxNativeZoom:e},_setView:function(a,t,i,e){var n=this._clampZoom(Math.round(t));(void 0!==this.options.maxZoom&&n>this.options.maxZoom||void 0!==this.options.minZoom&&n<this.options.minZoom)&&(n=void 0);var r=this.options.updateWhenZooming&&n!==this._tileZoom;e&&!r||(this._tileZoom=n,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==n&&this._update(a),i||this._pruneTiles(),this._noPrune=!!i),this._setZoomTransforms(a,t)},_setZoomTransforms:function(o,t){for(var n in this._levels)this._setZoomTransform(this._levels[n],o,t)},_setZoomTransform:function(a,t,i){var e=this._map.getZoomScale(i,a.zoom),n=a.origin.multiplyBy(e).subtract(this._map._getNewPixelOrigin(t,i)).round();Do?yt(a.el,n,e):ht(a.el,n)},_resetGrid:function(){var a=this._map,t=a.options.crs,i=this._tileSize=this.getTileSize(),e=this._tileZoom,n=this._map.getPixelWorldBounds(this._tileZoom);n&&(this._globalTileRange=this._pxBoundsToTileRange(n)),this._wrapX=t.wrapLng&&!this.options.noWrap&&[Math.floor(a.project([0,t.wrapLng[0]],e).x/i.x),Math.ceil(a.project([0,t.wrapLng[1]],e).x/i.y)],this._wrapY=t.wrapLat&&!this.options.noWrap&&[Math.floor(a.project([t.wrapLat[0],0],e).y/i.x),Math.ceil(a.project([t.wrapLat[1],0],e).y/i.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(a){var t=this._map,i=t._animatingZoom?Math.max(t._animateToZoom,t.getZoom()):t.getZoom(),e=t.getZoomScale(i,this._tileZoom),n=t.project(a,this._tileZoom).floor(),o=t.getSize().divideBy(2*e);return new f(n.subtract(o),n.add(o))},_update:function(y){var v=this._map;if(v){var i=this._clampZoom(v.getZoom());if(void 0===y&&(y=v.getCenter()),void 0!==this._tileZoom){var e=this._getTiledPixelBounds(y),n=this._pxBoundsToTileRange(e),o=n.getCenter(),s=[],r=this.options.keepBuffer,a=new f(n.getBottomLeft().subtract([r,-r]),n.getTopRight().add([r,-r]));if(!(isFinite(n.min.x)&&isFinite(n.min.y)&&isFinite(n.max.x)&&isFinite(n.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var h in this._tiles){var u=this._tiles[h].coords;u.z===this._tileZoom&&a.contains(new g(u.x,u.y))||(this._tiles[h].current=!1)}if(1<Math.abs(i-this._tileZoom))this._setView(y,i);else{for(var l=n.min.y;l<=n.max.y;l++)for(var x,P=n.min.x;P<=n.max.x;P++)if(x=new g(P,l),x.z=this._tileZoom,this._isValidTile(x)){var b=this._tiles[this._tileCoordsToKey(x)];b?b.current=!0:s.push(x)}if(s.sort(function(e,t){return e.distanceTo(o)-t.distanceTo(o)}),0!==s.length){this._loading||(this._loading=!0,this.fire("loading"));var p=document.createDocumentFragment();for(P=0;P<s.length;P++)this._addTile(s[P],p);this._level.el.appendChild(p)}}}}},_isValidTile:function(o){var t=this._map.options.crs;if(!t.infinite){var a=this._globalTileRange;if(!t.wrapLng&&(o.x<a.min.x||o.x>a.max.x)||!t.wrapLat&&(o.y<a.min.y||o.y>a.max.y))return!1}if(!this.options.bounds)return!0;var e=this._tileCoordsToBounds(o);return x(this.options.bounds).overlaps(e)},_keyToBounds:function(e){return this._tileCoordsToBounds(this._keyToTileCoords(e))},_tileCoordsToNwSe:function(a){var t=this._map,i=this.getTileSize(),e=a.scaleBy(i),n=e.add(i);return[t.unproject(e,a.z),t.unproject(n,a.z)]},_tileCoordsToBounds:function(o){var t=this._tileCoordsToNwSe(o),n=new c(t[0],t[1]);return this.options.noWrap||(n=this._map.wrapLatLngBounds(n)),n},_tileCoordsToKey:function(e){return e.x+":"+e.y+":"+e.z},_keyToTileCoords:function(o){var t=o.split(":"),n=new g(+t[0],+t[1]);return n.z=+t[2],n},_removeTile:function(e){var t=this._tiles[e];t&&(wo||t.el.setAttribute("src","data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="),at(t.el),delete this._tiles[e],this.fire("tileunload",{tile:t.el,coords:this._keyToTileCoords(e)}))},_initTile:function(e){_t(e,"leaflet-tile");var t=this.getTileSize();e.style.width=t.x+"px",e.style.height=t.y+"px",e.onselectstart=no,e.onmousemove=no,Po&&1>this.options.opacity&&ct(e,this.options.opacity),Ao&&!To&&(e.style.WebkitBackfaceVisibility="hidden")},_addTile:function(e,t){var a=this._getTilePos(e),n=this._tileCoordsToKey(e),o=this.createTile(this._wrapCoords(e),to(this._tileReady,this,e));this._initTile(o),2>this.createTile.length&&d(to(this._tileReady,this,e,null,o)),ht(o,a),this._tiles[n]={el:o,coords:e,current:!0},t.appendChild(o),this.fire("tileloadstart",{tile:o,coords:e})},_tileReady:function(e,t,a){if(this._map){t&&this.fire("tileerror",{error:t,tile:a,coords:e});var i=this._tileCoordsToKey(e);(a=this._tiles[i])&&(a.loaded=+new Date,this._map._fadeAnimated?(ct(a.el,0),_(this._fadeFrame),this._fadeFrame=d(this._updateOpacity,this)):(a.active=!0,this._pruneTiles()),t||(_t(a.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:a.el,coords:e})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Po||!this._map._fadeAnimated?d(this._pruneTiles,this):setTimeout(to(this._pruneTiles,this),250)))}},_getTilePos:function(e){return e.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(e){var t=new g(this._wrapX?o(e.x,this._wrapX):e.x,this._wrapY?o(e.y,this._wrapY):e.y);return t.z=e.z,t},_pxBoundsToTileRange:function(e){var t=this.getTileSize();return new f(e.min.unscaleBy(t).floor(),e.max.unscaleBy(t).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var e in this._tiles)if(!this._tiles[e].loaded)return!1;return!0}}),_n=cn.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1},initialize:function(e,t){this._url=e,(t=u(this,t)).detectRetina&&Fo&&0<t.maxZoom&&(t.tileSize=Math.floor(t.tileSize/2),t.zoomReverse?(t.zoomOffset--,t.minZoom++):(t.zoomOffset++,t.maxZoom--),t.minZoom=Math.max(0,t.minZoom)),"string"==typeof t.subdomains&&(t.subdomains=t.subdomains.split("")),Ao||this.on("tileunload",this._onTileRemove)},setUrl:function(e,t){return this._url=e,t||this.redraw(),this},createTile:function(e,t){var o=document.createElement("img");return j(o,"load",to(this._tileOnLoad,this,t,o)),j(o,"error",to(this._tileOnError,this,t,o)),this.options.crossOrigin&&(o.crossOrigin=""),o.alt="",o.setAttribute("role","presentation"),o.src=this.getTileUrl(e),o},getTileUrl:function(o){var t={r:Fo?"@2x":"",s:this._getSubdomain(o),x:o.x,y:o.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var e=this._globalTileRange.max.y-o.y;this.options.tms&&(t.y=e),t["-y"]=e}return i(this._url,eo(t,this.options))},_tileOnLoad:function(e,t){Po?setTimeout(to(e,this,null,t),0):e(null,t)},_tileOnError:function(o,t,a){var e=this.options.errorTileUrl;e&&t.getAttribute("src")!==e&&(t.src=e),o(a,t)},_onTileRemove:function(e){e.tile.onload=null},_getZoomForUrl:function(){var o=this._tileZoom,a=this.options.maxZoom,i=this.options.zoomReverse,e=this.options.zoomOffset;return i&&(o=a-o),o+e},_getSubdomain:function(e){var t=Math.abs(e.x+e.y)%this.options.subdomains.length;return this.options.subdomains[t]},_abortLoading:function(){var e,o;for(e in this._tiles)this._tiles[e].coords.z!==this._tileZoom&&((o=this._tiles[e].el).onload=no,o.onerror=no,o.complete||(o.src="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=",at(o),delete this._tiles[e]))}}),dn=_n.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(a,t){this._url=a;var i=eo({},this.defaultWmsParams);for(var n in t)n in this.options||(i[n]=t[n]);var o=(t=u(this,t)).detectRetina&&Fo?2:1,s=this.getTileSize();i.width=s.x*o,i.height=s.y*o,this.wmsParams=i},onAdd:function(e){this._crs=this.options.crs||e.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var t=1.3<=this._wmsVersion?"crs":"srs";this.wmsParams[t]=this._crs.code,_n.prototype.onAdd.call(this,e)},getTileUrl:function(_){var t=this._tileCoordsToNwSe(_),i=this._crs,e=v(i.project(t[0]),i.project(t[1])),n=e.min,o=e.max,s=(1.3<=this._wmsVersion&&this._crs===We?[n.y,n.x,o.y,o.x]:[n.x,n.y,o.x,o.y]).join(","),r=L.TileLayer.prototype.getTileUrl.call(this,_);return r+l(this.wmsParams,r,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+s},setParams:function(o,t){return eo(this.wmsParams,o),t||this.redraw(),this}});_n.WMS=dn,Ft.wms=function(e,t){return new dn(e,t)};var pn=Fe.extend({options:{padding:.1,tolerance:0},initialize:function(e){u(this,e),oo(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&_t(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var e={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(e.zoomanim=this._onAnimZoom),e},_onAnimZoom:function(e){this._updateTransform(e.center,e.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(l,t){var i=this._map.getZoomScale(t,this._zoom),e=ft(this._container),n=this._map.getSize().multiplyBy(.5+this.options.padding),o=this._map.project(this._center,t),s=this._map.project(l,t).subtract(o),r=n.multiplyBy(-i).add(e).add(n).subtract(s);Do?yt(this._container,r,i):ht(this._container,r)},_reset:function(){for(var e in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[e]._reset()},_onZoomEnd:function(){for(var e in this._layers)this._layers[e]._project()},_updatePaths:function(){for(var e in this._layers)this._layers[e]._update()},_update:function(){var o=this.options.padding,t=this._map.getSize(),n=this._map.containerPointToLayerPoint(t.multiplyBy(-o)).round();this._bounds=new f(n,n.add(t.multiplyBy(1+2*o)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),mn=pn.extend({getEvents:function(){var e=pn.prototype.getEvents.call(this);return e.viewprereset=this._onViewPreReset,e},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){pn.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var o=this._container=document.createElement("canvas");j(o,"mousemove",e(this._onMouseMove,32,this),this),j(o,"click dblclick mousedown mouseup contextmenu",this._onClick,this),j(o,"mouseout",this._handleMouseOut,this),this._ctx=o.getContext("2d")},_destroyContainer:function(){delete this._ctx,at(this._container),W(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var e in this._redrawBounds=null,this._layers)this._layers[e]._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){this._drawnLayers={},pn.prototype._update.call(this);var o=this._bounds,t=this._container,a=o.getSize(),e=Fo?2:1;ht(t,o.min),t.width=e*a.x,t.height=e*a.y,t.style.width=a.x+"px",t.style.height=a.y+"px",Fo&&this._ctx.scale(2,2),this._ctx.translate(-o.min.x,-o.min.y),this.fire("update")}},_reset:function(){pn.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(e){this._updateDashArray(e),this._layers[oo(e)]=e;var t=e._order={layer:e,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=t),this._drawLast=t,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(e){this._requestRedraw(e)},_removePath:function(o){var t=o._order,a=t.next,e=t.prev;a?a.prev=e:this._drawLast=e,e?e.next=a:this._drawFirst=a,delete o._order,delete this._layers[L.stamp(o)],this._requestRedraw(o)},_updatePath:function(e){this._extendRedrawBounds(e),e._project(),e._update(),this._requestRedraw(e)},_updateStyle:function(e){this._updateDashArray(e),this._requestRedraw(e)},_updateDashArray:function(o){if(o.options.dashArray){var t,a=o.options.dashArray.split(","),e=[];for(t=0;t<a.length;t++)e.push(+a[t]);o.options._dashArray=e}},_requestRedraw:function(e){this._map&&(this._extendRedrawBounds(e),this._redrawRequest=this._redrawRequest||d(this._redraw,this))},_extendRedrawBounds:function(e){if(e._pxBounds){var t=(e.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new f,this._redrawBounds.extend(e._pxBounds.min.subtract([t,t])),this._redrawBounds.extend(e._pxBounds.max.add([t,t]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var e=this._redrawBounds;if(e){var t=e.getSize();this._ctx.clearRect(e.min.x,e.min.y,t.x,t.y)}else this._ctx.clearRect(0,0,this._container.width,this._container.height)},_draw:function(){var o,a=this._redrawBounds;if(this._ctx.save(),a){var i=a.getSize();this._ctx.beginPath(),this._ctx.rect(a.min.x,a.min.y,i.x,i.y),this._ctx.clip()}this._drawing=!0;for(var e=this._drawFirst;e;e=e.next)o=e.layer,(!a||o._pxBounds&&o._pxBounds.intersects(a))&&o._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(l,t){if(this._drawing){var i,_,d,p,m=l._parts,r=m.length,a=this._ctx;if(r){for(this._drawnLayers[l._leaflet_id]=l,a.beginPath(),i=0;i<r;i++){for(_=0,d=m[i].length;_<d;_++)p=m[i][_],a[_?"lineTo":"moveTo"](p.x,p.y);t&&a.closePath()}this._fillStroke(a,l)}}},_updateCircle:function(a){if(this._drawing&&!a._empty()){var t=a._point,i=this._ctx,e=Math.max(Math.round(a._radius),1),n=(Math.max(Math.round(a._radiusY),1)||e)/e;this._drawnLayers[a._leaflet_id]=a,1!=n&&(i.save(),i.scale(1,n)),i.beginPath(),i.arc(t.x,t.y/n,e,0,2*Math.PI,!1),1!=n&&i.restore(),this._fillStroke(i,a)}},_fillStroke:function(o,t){var n=t.options;n.fill&&(o.globalAlpha=n.fillOpacity,o.fillStyle=n.fillColor||n.color,o.fill(n.fillRule||"evenodd")),n.stroke&&0!==n.weight&&(o.setLineDash&&o.setLineDash(t.options&&t.options._dashArray||[]),o.globalAlpha=n.opacity,o.lineWidth=n.weight,o.strokeStyle=n.color,o.lineCap=n.lineCap,o.lineJoin=n.lineJoin,o.stroke())},_onClick:function(a){for(var t,r,s=this._map.mouseEventToLayerPoint(a),n=this._drawFirst;n;n=n.next)(t=n.layer).options.interactive&&t._containsPoint(s)&&!this._map._draggableMoved(t)&&(r=t);r&&(Q(a),this._fireEvent([r],a))},_onMouseMove:function(e){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var t=this._map.mouseEventToLayerPoint(e);this._handleMouseHover(e,t)}},_handleMouseOut:function(e){var t=this._hoveredLayer;t&&(dt(this._container,"leaflet-interactive"),this._fireEvent([t],e,"mouseout"),this._hoveredLayer=null)},_handleMouseHover:function(a,t){for(var i,r,s=this._drawFirst;s;s=s.next)(i=s.layer).options.interactive&&i._containsPoint(t)&&(r=i);r!==this._hoveredLayer&&(this._handleMouseOut(a),r&&(_t(this._container,"leaflet-interactive"),this._fireEvent([r],a,"mouseover"),this._hoveredLayer=r)),this._hoveredLayer&&this._fireEvent([this._hoveredLayer],a)},_fireEvent:function(o,t,n){this._map._fireDOMEvent(t,n||t.type,o)},_bringToFront:function(o){var t=o._order,a=t.next,e=t.prev;a&&(a.prev=e,e?e.next=a:a&&(this._drawFirst=a),t.prev=this._drawLast,this._drawLast.next=t,t.next=null,this._drawLast=t,this._requestRedraw(o))},_bringToBack:function(o){var t=o._order,a=t.next,e=t.prev;e&&(e.next=a,a?a.prev=e:e&&(this._drawLast=e),t.prev=null,t.next=this._drawFirst,this._drawFirst.prev=t,this._drawFirst=t,this._requestRedraw(o))}}),fn=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(e){return document.createElement("<lvml:"+e+" class=\"lvml\">")}}catch(e){return function(e){return document.createElement("<"+e+" xmlns=\"urn:schemas-microsoft.com:vml\" class=\"lvml\">")}}}(),gn=qo?fn:w,yn=pn.extend({getEvents:function(){var e=pn.prototype.getEvents.call(this);return e.zoomstart=this._onZoomStart,e},_initContainer:function(){this._container=gn("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=gn("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){at(this._container),W(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_onZoomStart:function(){this._update()},_update:function(){if(!this._map._animatingZoom||!this._bounds){pn.prototype._update.call(this);var o=this._bounds,t=o.getSize(),n=this._container;this._svgSize&&this._svgSize.equals(t)||(this._svgSize=t,n.setAttribute("width",t.x),n.setAttribute("height",t.y)),ht(n,o.min),n.setAttribute("viewBox",[o.min.x,o.min.y,t.x,t.y].join(" ")),this.fire("update")}},_initPath:function(e){var t=e._path=gn("path");e.options.className&&_t(t,e.options.className),e.options.interactive&&_t(t,"leaflet-interactive"),this._updateStyle(e),this._layers[oo(e)]=e},_addPath:function(e){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(e._path),e.addInteractiveTarget(e._path)},_removePath:function(e){at(e._path),e.removeInteractiveTarget(e._path),delete this._layers[oo(e)]},_updatePath:function(e){e._project(),e._update()},_updateStyle:function(o){var t=o._path,n=o.options;t&&(n.stroke?(t.setAttribute("stroke",n.color),t.setAttribute("stroke-opacity",n.opacity),t.setAttribute("stroke-width",n.weight),t.setAttribute("stroke-linecap",n.lineCap),t.setAttribute("stroke-linejoin",n.lineJoin),n.dashArray?t.setAttribute("stroke-dasharray",n.dashArray):t.removeAttribute("stroke-dasharray"),n.dashOffset?t.setAttribute("stroke-dashoffset",n.dashOffset):t.removeAttribute("stroke-dashoffset")):t.setAttribute("stroke","none"),n.fill?(t.setAttribute("fill",n.fillColor||n.color),t.setAttribute("fill-opacity",n.fillOpacity),t.setAttribute("fill-rule",n.fillRule||"evenodd")):t.setAttribute("fill","none"))},_updatePoly:function(e,t){this._setPath(e,C(e._parts,t))},_updateCircle:function(a){var t=a._point,i=Math.max(Math.round(a._radius),1),e="a"+i+","+(Math.max(Math.round(a._radiusY),1)||i)+" 0 1,0 ",n=a._empty()?"M0 0":"M"+(t.x-i)+","+t.y+e+2*i+",0 "+e+2*-i+",0 ";this._setPath(a,n)},_setPath:function(e,t){e._path.setAttribute("d",t)},_bringToFront:function(e){rt(e._path)},_bringToBack:function(e){st(e._path)}});qo&&yn.include({_initContainer:function(){this._container=nt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(pn.prototype._update.call(this),this.fire("update"))},_initPath:function(e){var t=e._container=fn("shape");_t(t,"leaflet-vml-shape "+(this.options.className||"")),t.coordsize="1 1",e._path=fn("path"),t.appendChild(e._path),this._updateStyle(e),this._layers[oo(e)]=e},_addPath:function(e){var t=e._container;this._container.appendChild(t),e.options.interactive&&e.addInteractiveTarget(t)},_removePath:function(e){var t=e._container;at(t),e.removeInteractiveTarget(t),delete this._layers[oo(e)]},_updateStyle:function(a){var t=a._stroke,r=a._fill,s=a.options,n=a._container;n.stroked=!!s.stroke,n.filled=!!s.fill,s.stroke?(t||(t=a._stroke=fn("stroke")),n.appendChild(t),t.weight=s.weight+"px",t.color=s.color,t.opacity=s.opacity,t.dashStyle=s.dashArray?Qt(s.dashArray)?s.dashArray.join(" "):s.dashArray.replace(/( *, *)/g," "):"",t.endcap=s.lineCap.replace("butt","flat"),t.joinstyle=s.lineJoin):t&&(n.removeChild(t),a._stroke=null),s.fill?(r||(r=a._fill=fn("fill")),n.appendChild(r),r.color=s.fillColor||s.color,r.opacity=s.fillOpacity):r&&(n.removeChild(r),a._fill=null)},_updateCircle:function(o){var t=o._point.round(),a=Math.round(o._radius),e=Math.round(o._radiusY||a);this._setPath(o,o._empty()?"M0 0":"AL "+t.x+","+t.y+" "+a+","+e+" 0,23592600")},_setPath:function(e,t){e._path.v=t},_bringToFront:function(e){rt(e._container)},_bringToBack:function(e){st(e._container)}}),we.include({getRenderer:function(e){var t=e.options.renderer||this._getPaneRenderer(e.options.pane)||this.options.renderer||this._renderer;return t||(t=this._renderer=this.options.preferCanvas&&Vt()||Gt()),this.hasLayer(t)||this.addLayer(t),t},_getPaneRenderer:function(e){if("overlayPane"===e||void 0===e)return!1;var t=this._paneRenderers[e];return void 0===t&&(t=yn&&Gt({pane:e})||mn&&Vt({pane:e}),this._paneRenderers[e]=t),t}});var xn=tn.extend({initialize:function(e,t){tn.prototype.initialize.call(this,this._boundsToLatLngs(e),t)},setBounds:function(e){return this.setLatLngs(this._boundsToLatLngs(e))},_boundsToLatLngs:function(e){return e=x(e),[e.getSouthWest(),e.getNorthWest(),e.getNorthEast(),e.getSouthEast()]}});yn.create=gn,yn.pointsToPath=C,en.geometryToLayer=Mt,en.coordsToLatLng=Rt,en.coordsToLatLngs=Dt,en.latLngToCoords=Nt,en.latLngsToCoords=jt,en.getFeature=Wt,en.asFeature=Ht,we.mergeOptions({boxZoom:!0});var An=Ce.extend({initialize:function(e){this._map=e,this._container=e._container,this._pane=e._panes.overlayPane,this._resetStateTimeout=0,e.on("unload",this._destroy,this)},addHooks:function(){j(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){W(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){at(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(e){return!!(e.shiftKey&&(1===e.which||1===e.button))&&void(this._clearDeferredResetState(),this._resetState(),uo(),vt(),this._startPoint=this._map.mouseEventToContainerPoint(e),j(document,{contextmenu:K,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this))},_onMouseMove:function(o){this._moved||(this._moved=!0,this._box=nt("div","leaflet-zoom-box",this._container),_t(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(o);var t=new f(this._point,this._startPoint),n=t.getSize();ht(this._box,t.min),this._box.style.width=n.x+"px",this._box.style.height=n.y+"px"},_finish:function(){this._moved&&(at(this._box),dt(this._container,"leaflet-crosshair")),go(),xt(),W(document,{contextmenu:K,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(e){if((1===e.which||1===e.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(to(this._resetState,this),0);var t=new c(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(t).fire("boxzoomend",{boxZoomBounds:t})}},_onKeyDown:function(e){27===e.keyCode&&this._finish()}});we.addInitHook("addHandler","boxZoom",An),we.mergeOptions({doubleClickZoom:!0});var Ln=Ce.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(a){var t=this._map,i=t.getZoom(),e=t.options.zoomDelta,n=a.originalEvent.shiftKey?i-e:i+e;"center"===t.options.doubleClickZoom?t.setZoom(n):t.setZoomAround(a.containerPoint,n)}});we.addInitHook("addHandler","doubleClickZoom",Ln),we.mergeOptions({dragging:!0,inertia:!To,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Pn=Ce.extend({addHooks:function(){if(!this._draggable){var e=this._map;this._draggable=new Ae(e._mapPane,e._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),e.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),e.on("zoomend",this._onZoomEnd,this),e.whenReady(this._onZoomEnd,this))}_t(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){dt(this._map._container,"leaflet-grab"),dt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var e=this._map;if(e._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var t=x(this._map.options.maxBounds);this._offsetLimit=v(this._map.latLngToContainerPoint(t.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(t.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;e.fire("movestart").fire("dragstart"),e.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(o){if(this._map.options.inertia){var t=this._lastTime=+new Date,n=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(n),this._times.push(t),this._prunePositions(t)}this._map.fire("move",o).fire("drag",o)},_prunePositions:function(e){for(;1<this._positions.length&&50<e-this._times[0];)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var e=this._map.getSize().divideBy(2),t=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=t.subtract(e).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(e,t){return e-(e-t)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var e=this._draggable._newPos.subtract(this._draggable._startPos),t=this._offsetLimit;e.x<t.min.x&&(e.x=this._viscousLimit(e.x,t.min.x)),e.y<t.min.y&&(e.y=this._viscousLimit(e.y,t.min.y)),e.x>t.max.x&&(e.x=this._viscousLimit(e.x,t.max.x)),e.y>t.max.y&&(e.y=this._viscousLimit(e.y,t.max.y)),this._draggable._newPos=this._draggable._startPos.add(e)}},_onPreDragWrap:function(){var a=this._worldWidth,t=Math.round(a/2),i=this._initialWorldOffset,e=this._draggable._newPos.x,n=(e-t+i)%a+t-i,o=(e+t+i)%a-t-i,s=Math.abs(n+i)<Math.abs(o+i)?n:o;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=s},_onDragEnd:function(p){var t=this._map,i=t.options,e=!i.inertia||2>this._times.length;if(t.fire("dragend",p),e)t.fire("moveend");else{this._prunePositions(+new Date);var n=this._lastPos.subtract(this._positions[0]),o=(this._lastTime-this._times[0])/1e3,s=i.easeLinearity,r=n.multiplyBy(s/o),a=r.distanceTo([0,0]),m=Math.min(i.inertiaMaxSpeed,a),u=r.multiplyBy(m/a),l=m/(i.inertiaDeceleration*s),c=u.multiplyBy(-l/2).round();c.x||c.y?(c=t._limitOffset(c,t.options.maxBounds),d(function(){t.panBy(c,{duration:l,easeLinearity:s,noMoveStart:!0,animate:!0})})):t.fire("moveend")}}});we.addInitHook("addHandler","dragging",Pn),we.mergeOptions({keyboard:!0,keyboardPanDelta:80});var bn=Ce.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(e){this._map=e,this._setPanDelta(e.options.keyboardPanDelta),this._setZoomDelta(e.options.zoomDelta)},addHooks:function(){var e=this._map._container;0>=e.tabIndex&&(e.tabIndex="0"),j(e,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),W(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var o=document.body,t=document.documentElement,a=o.scrollTop||t.scrollTop,e=o.scrollLeft||t.scrollLeft;this._map._container.focus(),window.scrollTo(e,a)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(a){var t,r,s=this._panKeys={},n=this.keyCodes;for(t=0,r=n.left.length;t<r;t++)s[n.left[t]]=[-1*a,0];for(t=0,r=n.right.length;t<r;t++)s[n.right[t]]=[a,0];for(t=0,r=n.down.length;t<r;t++)s[n.down[t]]=[0,a];for(t=0,r=n.up.length;t<r;t++)s[n.up[t]]=[0,-1*a]},_setZoomDelta:function(a){var t,r,s=this._zoomKeys={},n=this.keyCodes;for(t=0,r=n.zoomIn.length;t<r;t++)s[n.zoomIn[t]]=a;for(t=0,r=n.zoomOut.length;t<r;t++)s[n.zoomOut[t]]=-a},_addHooks:function(){j(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){W(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(o){if(!(o.altKey||o.ctrlKey||o.metaKey)){var t,a=o.keyCode,e=this._map;if(a in this._panKeys){if(e._panAnim&&e._panAnim._inProgress)return;t=this._panKeys[a],o.shiftKey&&(t=y(t).multiplyBy(3)),e.panBy(t),e.options.maxBounds&&e.panInsideBounds(e.options.maxBounds)}else if(a in this._zoomKeys)e.setZoom(e.getZoom()+(o.shiftKey?3:1)*this._zoomKeys[a]);else{if(27!==a||!e._popup||!e._popup.options.closeOnEscapeKey)return;e.closePopup()}K(o)}}});we.addInitHook("addHandler","keyboard",bn),we.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Tn=Ce.extend({addHooks:function(){j(this._map._container,"mousewheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){W(this._map._container,"mousewheel",this._onWheelScroll,this)},_onWheelScroll:function(e){var t=X(e),a=this._map.options.wheelDebounceTime;this._delta+=t,this._lastMousePos=this._map.mouseEventToContainerPoint(e),this._startTime||(this._startTime=+new Date);var n=Math.max(a-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(to(this._performZoom,this),n),K(e)},_performZoom:function(){var a=this._map,t=a.getZoom(),i=this._map.options.zoomSnap||0;a._stop();var e=this._delta/(4*this._map.options.wheelPxPerZoomLevel),n=4*Math.log(2/(1+Math.exp(-Math.abs(e))))/Math.LN2,o=i?Math.ceil(n/i)*i:n,s=a._limitZoom(t+(0<this._delta?o:-o))-t;this._delta=0,this._startTime=null,s&&("center"===a.options.scrollWheelZoom?a.setZoom(t+s):a.setZoomAround(this._lastMousePos,t+s))}});we.addInitHook("addHandler","scrollWheelZoom",Tn),we.mergeOptions({tap:!0,tapTolerance:15});var zn=Ce.extend({addHooks:function(){j(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){W(this._map._container,"touchstart",this._onDown,this)},_onDown:function(e){if(e.touches){if(q(e),this._fireClick=!0,1<e.touches.length)return this._fireClick=!1,void clearTimeout(this._holdTimeout);var t=e.touches[0],o=t.target;this._startPos=this._newPos=new g(t.clientX,t.clientY),o.tagName&&"a"===o.tagName.toLowerCase()&&_t(o,"leaflet-active"),this._holdTimeout=setTimeout(to(function(){this._isTapValid()&&(this._fireClick=!1,this._onUp(),this._simulateEvent("contextmenu",t))},this),1e3),this._simulateEvent("mousedown",t),j(document,{touchmove:this._onMove,touchend:this._onUp},this)}},_onUp:function(o){if(clearTimeout(this._holdTimeout),W(document,{touchmove:this._onMove,touchend:this._onUp},this),this._fireClick&&o&&o.changedTouches){var t=o.changedTouches[0],n=t.target;n&&n.tagName&&"a"===n.tagName.toLowerCase()&&dt(n,"leaflet-active"),this._simulateEvent("mouseup",t),this._isTapValid()&&this._simulateEvent("click",t)}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(e){var t=e.touches[0];this._newPos=new g(t.clientX,t.clientY),this._simulateEvent("mousemove",t)},_simulateEvent:function(o,t){var n=document.createEvent("MouseEvents");n._simulated=!0,t.target._simulatedClick=!0,n.initMouseEvent(o,!0,!0,window,1,t.screenX,t.screenY,t.clientX,t.clientY,!1,!1,!1,!1,0,null),t.target.dispatchEvent(n)}});Ho&&!Wo&&we.addInitHook("addHandler","tap",zn),we.mergeOptions({touchZoom:Ho&&!To,bounceAtZoomLimits:!0});var wn=Ce.extend({addHooks:function(){_t(this._map._container,"leaflet-touch-zoom"),j(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){dt(this._map._container,"leaflet-touch-zoom"),W(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(o){var t=this._map;if(o.touches&&2===o.touches.length&&!t._animatingZoom&&!this._zooming){var a=t.mouseEventToContainerPoint(o.touches[0]),e=t.mouseEventToContainerPoint(o.touches[1]);this._centerPoint=t.getSize()._divideBy(2),this._startLatLng=t.containerPointToLatLng(this._centerPoint),"center"!==t.options.touchZoom&&(this._pinchStartLatLng=t.containerPointToLatLng(a.add(e)._divideBy(2))),this._startDist=a.distanceTo(e),this._startZoom=t.getZoom(),this._moved=!1,this._zooming=!0,t._stop(),j(document,"touchmove",this._onTouchMove,this),j(document,"touchend",this._onTouchEnd,this),q(o)}},_onTouchMove:function(e){if(e.touches&&2===e.touches.length&&this._zooming){var t=this._map,i=t.mouseEventToContainerPoint(e.touches[0]),n=t.mouseEventToContainerPoint(e.touches[1]),o=i.distanceTo(n)/this._startDist;if(!(this._zoom=t.getScaleZoom(o,this._startZoom),!t.options.bounceAtZoomLimits&&(this._zoom<t.getMinZoom()&&1>o||this._zoom>t.getMaxZoom()&&1<o)&&(this._zoom=t._limitZoom(this._zoom)),"center"===t.options.touchZoom)){var s=i._add(n)._divideBy(2)._subtract(this._centerPoint);if(1===o&&0===s.x&&0===s.y)return;this._center=t.unproject(t.project(this._pinchStartLatLng,this._zoom).subtract(s),this._zoom)}else if(this._center=this._startLatLng,1===o)return;this._moved||(t._moveStart(!0,!1),this._moved=!0),_(this._animRequest);var r=to(t._move,t,this._center,this._zoom,{pinch:!0,round:!1});this._animRequest=d(r,this,!0),q(e)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,_(this._animRequest),W(document,"touchmove",this._onTouchMove),W(document,"touchend",this._onTouchEnd),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});we.addInitHook("addHandler","touchZoom",wn),we.BoxZoom=An,we.DoubleClickZoom=Ln,we.Drag=Pn,we.Keyboard=bn,we.ScrollWheelZoom=Tn,we.Tap=zn,we.TouchZoom=wn;var Cn=window.L;window.L=Ee,Object.freeze=qt,Ee.version="1.3.1",Ee.noConflict=function(){return window.L=Cn,this},Ee.Control=Le,Ee.control=Pe,Ee.Browser=Ko,Ee.Evented=so,Ee.Mixin={Events:ro},Ee.Util=io,Ee.Class=p,Ee.Handler=Ce,Ee.extend=eo,Ee.bind=to,Ee.stamp=oo,Ee.setOptions=u,Ee.DomEvent=_e,Ee.DomUtil=sn,Ee.PosAnimation=xe,Ee.Draggable=Ae,Ee.LineUtil=Be,Ee.PolyUtil=Oe,Ee.Point=g,Ee.point=y,Ee.Bounds=f,Ee.bounds=v,Ee.Transformation=b,Ee.transformation=z,Ee.Projection=Ne,Ee.LatLng=P,Ee.latLng=T,Ee.LatLngBounds=c,Ee.latLngBounds=x,Ee.CRS=_o,Ee.GeoJSON=en,Ee.geoJSON=Ut,Ee.geoJson=Ut,Ee.Layer=Fe,Ee.LayerGroup=Ue,Ee.layerGroup=function(e,t){return new Ue(e,t)},Ee.FeatureGroup=Ve,Ee.featureGroup=function(e){return new Ve(e)},Ee.ImageOverlay=on,Ee.imageOverlay=function(o,t,n){return new on(o,t,n)},Ee.VideoOverlay=rn,Ee.videoOverlay=function(o,t,n){return new rn(o,t,n)},Ee.DivOverlay=an,Ee.Popup=hn,Ee.popup=function(e,t){return new hn(e,t)},Ee.Tooltip=un,Ee.tooltip=function(e,t){return new un(e,t)},Ee.Icon=qe,Ee.icon=function(e){return new qe(e)},Ee.DivIcon=ln,Ee.divIcon=function(e){return new ln(e)},Ee.Marker=Ye,Ee.marker=function(e,t){return new Ye(e,t)},Ee.TileLayer=_n,Ee.tileLayer=Ft,Ee.GridLayer=cn,Ee.gridLayer=function(e){return new cn(e)},Ee.SVG=yn,Ee.svg=Gt,Ee.Renderer=pn,Ee.Canvas=mn,Ee.canvas=Vt,Ee.Path=Xe,Ee.CircleMarker=Je,Ee.circleMarker=function(e,t){return new Je(e,t)},Ee.Circle=$e,Ee.circle=function(o,t,n){return new $e(o,t,n)},Ee.Polyline=Qe,Ee.polyline=function(e,t){return new Qe(e,t)},Ee.Polygon=tn,Ee.polygon=function(e,t){return new tn(e,t)},Ee.Rectangle=xn,Ee.rectangle=function(e,t){return new xn(e,t)},Ee.Map=we,Ee.map=function(e,t){return new we(e,t)}});